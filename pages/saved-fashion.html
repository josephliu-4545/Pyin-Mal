<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your saved Pyin Mal outfits and grooming combinations in one place.">
    <title>Saved Fashion - Pyin Mal</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Rufina:wght@400;700&family=Orbit&family=Jomolhari&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="../css/tailwind.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/main.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- AOS CSS -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
    <style>
        /* Saved Fashion: layout for favorites page */
        .saved-card {
            display: flex;
            flex-direction: column;
            height: 26rem; /* fixed card height */
        }

        /* Dedicated image wrapper so every card image uses the exact same box */
        .saved-card-image {
            position: relative;
            width: 100%;
            height: 100rem; /* exactly half of card height */
            overflow: hidden;
            border-top-left-radius: 0.75rem;
            border-top-right-radius: 0.75rem;
        }

        .saved-card-image img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: cover;
            object-position: center;
            transform: scale(1.06);
            transform-origin: center;
        }
    </style>
</head>
<body class="bg-white dark:bg-dark-bg text-neutral-900 dark:text-dark-text theme-transition">
    <!-- Navigation -->
    <header class="sticky top-0 z-40 bg-white/95 dark:bg-dark-surface/95 backdrop-blur border-b border-neutral-100 dark:border-dark-border shadow-sm dark:shadow-soft-dark">
        <nav class="container-custom">
            <div class="flex items-center justify-between h-16 gap-6">
                <a href="../index.html" class="flex items-center space-x-1.5 sm:space-x-2">
                    <span class="inline-flex h-7 w-7 sm:h-9 sm:w-9 items-center justify-center rounded-lg sm:rounded-xl bg-primary-600 text-white font-semibold text-xs sm:text-sm">PM</span>
                    <span class="font-rufina text-lg sm:text-xl md:text-2xl font-bold text-primary-600 dark:text-primary-400">Pyin Mal</span>
                </a>

                <div class="hidden lg:flex items-center space-x-6">
                    <a href="../index.html" class="nav-link">Home</a>
                    <div class="relative" data-dropdown="features">
                        <button class="nav-link flex items-center gap-1" data-dropdown-toggle="features-menu" aria-expanded="false">
                            Features
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                        </button>
                        <div id="features-menu" class="hidden absolute top-full left-0 mt-3 w-64 rounded-2xl border border-neutral-100 dark:border-dark-border bg-white dark:bg-dark-card shadow-soft dark:shadow-soft-dark p-4">
                            <ul class="space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
                                <li><a href="haircut-recommendations.html" class="hover:text-primary-600 dark:hover:text-primary-300 flex items-center gap-2"><span>Hair Recommendations</span></a></li>
                                <li><a href="model-preview.html" class="hover:text-primary-600 dark:hover:text-primary-300 flex items-center gap-2">Model Preview</a></li>
                            </ul>
                        </div>
                    </div>
                    <a href="saved-fashion.html" class="nav-link">Favorites</a>
                    <a href="shop-browsing.html" class="nav-link">Shop</a>
                    <div class="relative" data-dropdown="more">
                        <button class="nav-link flex items-center gap-1" data-dropdown-toggle="more-menu" aria-expanded="false">
                            More
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                        </button>
                        <div id="more-menu" class="hidden absolute top-full left-0 mt-3 w-64 rounded-2xl border border-neutral-100 dark:border-dark-border bg-white dark:bg-dark-card shadow-soft dark:shadow-soft-dark p-4">
                            <div class="space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
                                <a href="reviews.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Reviews</a>
                                <a href="contact.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Contact</a>
                                <a href="about.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">About us</a>
                                <a href="faq.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">FAQ</a>
                                <a href="pricing.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Pricing</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-2 sm:space-x-3">
                    <button id="theme-toggle" class="theme-toggle p-1.5 sm:p-2" aria-label="Toggle theme">
                        <span id="theme-icon">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
                        </span>
                    </button>
                    <button class="theme-toggle p-1.5 sm:p-2" aria-label="Cart">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m13-9l2 9m-5-4a2 2 0 11-4 0"/></svg>
                    </button>
                    <a href="login.html" class="btn btn-secondary hidden sm:inline-flex px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm">Sign In</a>
                    <a href="signup.html" class="btn btn-primary px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm">Get Started</a>
                    <button id="mobile-menu-btn" class="lg:hidden p-1.5 sm:p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-dark-card transition-colors" aria-label="Menu">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
                    </button>
                </div>
            </div>

            <div id="mobile-menu" class="hidden lg:hidden pb-6 border-t border-neutral-100 dark:border-dark-border mt-3">
                <div class="pt-4 space-y-4">
                    <a href="../index.html" class="block nav-link">Home</a>
                    <div class="bg-neutral-50 dark:bg-dark-surface rounded-2xl p-4">
                        <p class="text-xs uppercase tracking-[0.4em] text-neutral-400 mb-2">Features</p>
                        <div class="flex flex-col space-y-2">
                            <a href="haircut-recommendations.html" class="nav-link">Hair Recommendations</a>
                            <a href="model-preview.html" class="nav-link">Model Preview</a>
                        </div>
                    </div>
                    <a href="saved-fashion.html" class="block nav-link">Favorites</a>
                    <a href="shop-browsing.html" class="block nav-link">Shop</a>
                    <div class="bg-neutral-50 dark:bg-dark-surface rounded-2xl p-4">
                        <p class="text-xs uppercase tracking-[0.4em] text-neutral-400 mb-2">More</p>
                        <div class="flex flex-col space-y-2">
                            <a href="reviews.html" class="nav-link">Reviews</a>
                            <a href="contact.html" class="nav-link">Contact</a>
                            <a href="about.html" class="nav-link">About us</a>
                            <a href="faq.html" class="nav-link">FAQ</a>
                            <a href="pricing.html" class="nav-link">Pricing</a>
                        </div>
                    </div>
                    <div class="flex flex-col gap-3">
                        <a href="login.html" class="btn btn-secondary w-full text-center">Sign In</a>
                        <a href="signup.html" class="btn btn-primary w-full text-center">Get Started</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero -->
    <section class="py-10 sm:py-14 md:py-16 bg-neutral-900 text-white">
        <div class="container-custom space-y-6">
            <div class="max-w-3xl" data-aos="fade-up">
                <p class="text-xs uppercase tracking-[0.4em] text-white/60 mb-3">Saved fashion</p>
                <h1 class="font-rufina text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight mb-3">Your saved outfits and fashion picks.</h1>
                <p class="text-sm sm:text-base text-white/80">Every fashion look you favorite across Pyin Mal appears here in one clean, easy-to-browse grid.</p>
            </div>
        </div>
    </section>

    <!-- Search -->
    <section class="py-6 bg-neutral-50 dark:bg-dark-surface border-b border-neutral-200/70 dark:border-dark-border">
        <div class="container-custom max-w-4xl" data-aos="fade-up">
            <div class="product-card p-4 sm:p-5 flex flex-col gap-3">
                <div class="flex items-center justify-between gap-2 mb-1">
                    <h2 class="font-rufina text-lg sm:text-xl font-semibold text-neutral-900 dark:text-dark-text">Saved looks</h2>
                    <p class="text-xs text-neutral-500 dark:text-neutral-400" id="saved-count-label"></p>
                </div>
                <div class="flex flex-col sm:flex-row gap-3 w-full">
                    <div class="relative flex-1">
                        <input type="search" id="saved-search" class="form-input w-full pl-10 pr-4 py-2.5 rounded-lg border border-neutral-200 dark:border-dark-border bg-white dark:bg-dark-card text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="Search by name, ID, description, or shop">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                        </div>
                    </div>
                    <button id="saved-search-btn" class="btn btn-primary px-6 whitespace-nowrap text-sm" type="button">
                        <span>Search</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Saved looks grid -->
    <section class="py-10">
        <div class="container-custom">
            <div id="saved-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
    </section>

    <!-- Footer -->
<footer class="bg-neutral-900 dark:bg-dark-bg text-white dark:text-dark-text mt-20">
    <!-- Accent Strip -->
    <div class="h-1 bg-gradient-to-r from-indigo-500 via-pink-500 to-orange-400"></div>

    <div class="container-custom py-14">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-10">
            
            <div>
                <h3 class="font-rufina text-2xl font-bold tracking-wide mb-3">Pyin Mal</h3>
                <p class="text-neutral-400 dark:text-neutral-500 text-sm leading-relaxed">
                    Curated style. Smarter grooming. Confidence that lasts.
                </p>

                <!-- Social -->
                <div class="flex gap-4 mt-5">
                    <a href="https://www.instagram.com" target="_blank" class="hover:text-indigo-400 transition"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.twitter.com" target="_blank" class="hover:text-indigo-400 transition"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.linkedin.com" target="_blank" class="hover:text-indigo-400 transition"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>

            <!-- Explore -->
            <div>
                <h4 class="font-semibold mb-4 text-indigo-400">Explore</h4>
                <ul class="space-y-2 text-sm text-neutral-400 dark:text-neutral-500">
                    <li><a href="about.html" class="hover:text-white transition">Who We Are</a></li>
                    <li><a href="contact.html" class="hover:text-white transition">Contact</a></li>
                    <li><a href="faq.html" class="hover:text-white transition">Help Center</a></li>
                </ul>
            </div>

            
            <div>
                <h4 class="font-semibold mb-4 text-indigo-400">Feature</h4>
                <ul class="space-y-2 text-sm text-neutral-400 dark:text-neutral-500">
                    <li><a href="model-preview.html" class="hover:text-white transition">Outfit preview</a></li>
                    <li><a href="haircut-recommendations.html" class="hover:text-white transition">HairStyle and Face-analysis</a></li>
                </ul>
            </div>

            
            <div>
                <h4 class="font-semibold mb-4 text-indigo-400">Stay Sharp</h4>
                <p class="text-sm text-neutral-400 dark:text-neutral-500 mb-3">
                    Weekly style tips directly to your inbox.
                </p>
                <form class="flex">
                    <input type="email" placeholder="Your email"
                        class="w-full px-3 py-2 rounded-l bg-neutral-800 dark:bg-dark-card text-sm text-white outline-none">
                    <a href="contact.html"><button
                        class="bg-indigo-500 hover:bg-indigo-600 transition px-4 py-2 text-sm rounded-r font-semibold">
                        Join
                    </button></a>
                </form>
            </div>

        </div>

        <!-- Bottom -->
        <div class="border-t border-neutral-800 dark:border-dark-border mt-10 pt-6 text-center text-sm text-neutral-500">
            <p>© 2025 <span class="font-semibold text-white">Pyin Mal</span> — Designed for those who stand out.</p>
        </div>
    </div>
</footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/animations.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const STORAGE_KEY_PRIMARY = 'pyinmal_favorites';
            const STORAGE_KEY_FALLBACK = 'favorites';

            const grid = document.getElementById('saved-grid');
            const searchInput = document.getElementById('saved-search');
            const searchButton = document.getElementById('saved-search-btn');
            const countLabel = document.getElementById('saved-count-label');

            function loadFavorites() {
                try {
                    let items = JSON.parse(localStorage.getItem(STORAGE_KEY_PRIMARY) || 'null');
                    if (!Array.isArray(items)) {
                        items = JSON.parse(localStorage.getItem(STORAGE_KEY_FALLBACK) || '[]');
                    }
                    return Array.isArray(items) ? items : [];
                } catch {
                    return [];
                }
            }

            function saveFavorites(items) {
                localStorage.setItem(STORAGE_KEY_PRIMARY, JSON.stringify(items));
            }

            function normalizeItem(raw, index) {
                return {
                    id: raw.id ?? `item_${index}`,
                    title: raw.title ?? raw.name ?? 'Saved Item',
                    description: raw.description ?? '',
                    image: raw.image ?? '',
                    category: raw.category ?? 'set',
                    shop: raw.shop ?? raw.shopName ?? ''
                };
            }

            function render(items) {
                grid.innerHTML = '';

                countLabel.textContent = items.length
                    ? `${items.length} saved look${items.length === 1 ? '' : 's'}`
                    : 'No saved looks yet';

                if (!items.length) {
                    const empty = document.createElement('div');
                    empty.className = 'col-span-full text-center py-12 text-neutral-500 dark:text-neutral-400';
                    empty.innerHTML = `
                        <p class="text-lg font-medium mb-1">No saved fashion yet</p>
                        <p class="text-sm">Browse outfits and tap the heart icon to see them here.</p>
                    `;
                    grid.appendChild(empty);
                    return;
                }

                items.forEach((raw, index) => {
                    const item = normalizeItem(raw, index);
                    const card = document.createElement('article');
                    card.className = 'product-card saved-card overflow-hidden rounded-2xl bg-white dark:bg-dark-card shadow-soft dark:shadow-soft-dark transition hover:shadow-lg hover:-translate-y-0.5 group';
                    card.dataset.savedCard = '';
                    card.dataset.id = item.id;

                    card.innerHTML = `
                        <div class="saved-card-image bg-neutral-100 dark:bg-dark-surface">
                            <img src="${item.image || 'https://images.unsplash.com/photo-1520975916090-3105956dac38?auto=format&fit=crop&w=800&h=1067&q=80'}" alt="${item.title}">
                        </div>
                        <div class="p-4 flex flex-col h-full">
                            <div>
                                <h3 class="font-rufina text-base font-semibold card-title line-clamp-2">${item.title}</h3>
                                ${item.description ? `<p class="text-sm text-neutral-600 dark:text-neutral-400 mt-1 line-clamp-2">${item.description}</p>` : ''}
                                <div class="mt-2 flex items-center justify-between text-xs text-neutral-500 dark:text-neutral-400">
                                    <span class="uppercase tracking-[0.3em] card-category">${(item.category || 'set').toString().toUpperCase()}</span>
                                    ${item.shop ? `<span class="truncate max-w-[9rem] text-right card-shop">${item.shop}</span>` : ''}
                                </div>
                            </div>
                            <button class="unfav-btn btn btn-secondary w-full text-sm mt-4" type="button">Remove</button>
                        </div>
                    `;

                    grid.appendChild(card);
                });

                grid.querySelectorAll('.unfav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const card = btn.closest('article');
                        if (!card) return;
                        const id = card.dataset.id;
                        let items = loadFavorites();
                        items = items.filter((raw, index) => {
                            const normalized = normalizeItem(raw, index);
                            return normalized.id !== id;
                        });
                        saveFavorites(items);
                        applySearch();
                    });
                });
            }

            function itemMatchesSearch(raw, index, term) {
                if (!term) return true;
                const item = normalizeItem(raw, index);
                const haystack = [
                    item.id,
                    item.title,
                    item.description,
                    item.shop,
                    item.category
                ].join(' ').toLowerCase();
                return haystack.includes(term);
            }

            function applySearch() {
                const term = searchInput.value.trim().toLowerCase();
                const all = loadFavorites();
                const filtered = all.filter((raw, index) => itemMatchesSearch(raw, index, term));
                render(filtered);
            }

            searchInput.addEventListener('input', () => {
                applySearch();
            });

            searchButton.addEventListener('click', () => {
                applySearch();
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    applySearch();
                }
            });

            // Initial render
            applySearch();
        });
    </script>
</body>
</html>


