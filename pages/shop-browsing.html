<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse curated outfits, grooming kits, and shop-ready looks from Pyin Mal studio partners.">
    <title>Shop Browsing - Pyin Mal</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Rufina:wght@400;700&family=Orbit&family=Jomolhari&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="../css/tailwind.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/main.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

    <!-- AOS CSS -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">

    <style>
        /* Tab transitions */
        .tab-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        .tab-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        /* Tab button styles */
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn.active {
            background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500));
            color: white;
            transform: scale(1.02);
        }
        .tab-btn:hover:not(.active) {
            transform: translateY(-2px);
        }
        /* Card hover animations */
        .shop-card-animated {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .shop-card-animated:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        /* Button hover effects */
        .btn-hover-scale {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-hover-scale:hover {
            transform: scale(1.05);
        }
        /* Fade animations */
        @keyframes fadeSlideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fade-slide-up {
            animation: fadeSlideUp 0.6s ease forwards;
        }
        /* Stagger children */
        .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
        .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
        .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
        .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
        .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
        .stagger-children > *:nth-child(6) { animation-delay: 0.6s; }

        /* Barber tab custom styles */
        .barber-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .barber-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 25px 40px rgba(15, 23, 42, 0.12);
        }
        .service-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #9CA3AF;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .service-checkbox.checked {
            border-color: #8B5CF6;
            background-color: #8B5CF6;
        }
        .service-checkbox.checked::after {
            content: '✓';
            color: white;
            font-size: 12px;
            font-weight: bold;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Category button styles */
        .category-btn {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .category-btn.active {
            background-color: #4F46E5;
            color: white;
        }
        
        .category-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        
        .category-btn:hover::after {
            transform: translateX(0);
        }
        .service-item.disabled {
            opacity: 0.4;
            pointer-events: none;
        }
        .service-checkbox.disabled {
            cursor: not-allowed;
        }
        .shop-selected::after {
            content: "Selected shop";
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(236, 72, 153, 0.9);
            color: #fff;
            font-size: 0.65rem;
            letter-spacing: 0.1em;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
        }
        .toast {
            position: fixed;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            background: #EC4899;
            color: #fff;
            padding: 0.75rem 1.5rem;
            border-radius: 999px;
            box-shadow: 0 10px 25px rgba(236, 72, 153, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 60;
        }
        .toast.show {
            opacity: 1;
        }
        /* Product Modal Styles */
        #product-modal {
            animation: fadeIn 0.3s ease;
        }
        #product-modal > div {
            animation: slideUp 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        /* Modal Scrollbar Styling */
        #product-modal > div > div::-webkit-scrollbar {
            width: 8px;
        }
        #product-modal > div > div::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }
        #product-modal > div > div::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 4px;
        }
        #product-modal > div > div::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.5);
        }
        /* Thumbnail scrollbar */
        #modal-thumbnails::-webkit-scrollbar {
            height: 4px;
        }
        #modal-thumbnails::-webkit-scrollbar-track {
            background: transparent;
        }
        #modal-thumbnails::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 2px;
        }
        #modal-thumbnails::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.5);
        }
        /* Responsive modal adjustments */
        @media (max-width: 1023px) {
            #product-modal {
                padding: 0;
            }
            #product-modal > div {
                /* Full-width card on mobile but still respect viewport height */
                width: 100%;
                max-width: 100vw;
                max-height: 90vh;
                border-radius: 0;
            }
        }
        @media (min-width: 1024px) {
            #product-modal {
                padding: 1rem;
            }
            #product-modal > div {
                /* Centered card on desktop, constrained by viewport */
                width: min(90%, 72rem);
                max-width: min(90vw, 72rem);
                max-height: 90vh;
                margin: auto;
            }
            #modal-thumbnails {
                height: 110px;
                min-height: 110px;
            }
        }

        @media (max-width: 1023px) {
            #modal-thumbnails {
                height: 95px;
                min-height: 95px;
            }
        }
        @media (min-width: 1024px) {
            #modal-thumbnails {
                height: 120px;
                min-height: 120px;
            }
        }
        /* Make modal content more responsive */
        #product-modal > div {
            /* Default constraints; refined further in media queries */
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
        }
        /* On larger screens, let the overlay stay fixed without being the main scroll area */
        @media (min-width: 1024px) {
            #product-modal {
                overflow-y: hidden;
            }
        }
        /* Better scrolling on mobile */
        @media (max-width: 1023px) {
            #product-modal {
                -webkit-overflow-scrolling: touch;
                overflow-y: auto;
            }
            #product-modal > div {
                display: flex;
                flex-direction: column;
            }
        }
        /* Related items container (right column list) */
        #modal-related-items {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            width: 100%;
            max-height: 20rem;
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 0.25rem;
            box-sizing: border-box;
        }
        /* Related items scrollbar */
        #modal-related-items::-webkit-scrollbar {
            width: 6px;
        }
        #modal-related-items::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 3px;
        }
        #modal-related-items::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 3px;
        }
        #modal-related-items::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.5);
        }
        /* Modal thumbnails layout */
        .thumbnails-container {
            display: flex;
            width: 100%;
            overflow: hidden;
            justify-content: center;
        }

        @media (min-width: 1024px) {
            .thumbnails-container {
                justify-content: flex-start;
            }
        }

        #modal-thumbnails {
            max-width: 100%;
            width: 100%;
        }

        #modal-thumbnails > * {
            flex-shrink: 0;
        }

        #modal-thumbnails img {
            width: 4.25rem;
            height: 4.25rem;
            object-fit: cover;
            border-radius: 0.75rem;
        }

        /* Show only first two related items */
        #modal-related-items > :nth-child(n+3) {
            display: none !important;
        }

        /* Related item card layout: image + text, constrained to column width */
        #modal-related-items > * {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-align: center;
            width: 100%;
            max-width: 100%;
            min-width: 0;
        }

        @media (min-width: 768px) {
            #modal-related-items > * {
                text-align: left;
            }
        }

        /* Square image wrapper inside related item card */
        #modal-related-items .aspect-square {
            position: relative;
            width: 4.5rem;
            height: 4.5rem;
            flex-shrink: 0;
            overflow: hidden;
            border-radius: 0.75rem;
        }

        @media (min-width: 1024px) {
            #modal-related-items .aspect-square {
                width: 5rem;
                height: 5rem;
            }
        }

        #modal-related-items .aspect-square img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    </style>
</head>
<body class="bg-white dark:bg-dark-bg text-neutral-900 dark:text-dark-text theme-transition">
    <!-- Navigation -->
    <header class="sticky top-0 z-40 bg-white/95 dark:bg-dark-surface/95 backdrop-blur border-b border-neutral-100 dark:border-dark-border shadow-sm dark:shadow-soft-dark">
        <nav class="container-custom">
            <div class="flex items-center justify-between h-16 gap-6">
                <a href="../index.html" class="flex items-center space-x-1.5 sm:space-x-2">
                    <span class="inline-flex h-7 w-7 sm:h-9 sm:w-9 items-center justify-center rounded-lg sm:rounded-xl bg-primary-600 text-white font-semibold text-xs sm:text-sm">PM</span>
                    <span class="font-rufina text-lg sm:text-xl md:text-2xl font-bold text-primary-600 dark:text-primary-400">Pyin Mal</span>
                </a>

                <div class="hidden lg:flex items-center space-x-6">
                    <a href="../index.html" class="nav-link">Home</a>
                    <div class="relative" data-dropdown="features">
                        <button class="nav-link flex items-center gap-1" data-dropdown-toggle="features-menu" aria-expanded="false">
                            Features
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                        </button>
                        <div id="features-menu" class="hidden absolute top-full left-0 mt-3 w-64 rounded-2xl border border-neutral-100 dark:border-dark-border bg-white dark:bg-dark-card shadow-soft dark:shadow-soft-dark p-4">
                            <ul class="space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
                                <li><a href="haircut-recommendations.html" class="hover:text-primary-600 dark:hover:text-primary-300 flex items-center gap-2"><span>Hair Recommendations</span></a></li>
                                <li><a href="digital-outfit.html" class="hover:text-primary-600 dark:hover:text-primary-300 flex items-center gap-2">Curated Fashion Sets</a></li>
                                <li><a href="model-preview.html" class="hover:text-primary-600 dark:hover:text-primary-300 flex items-center gap-2">Model Preview</a></li>
                            </ul>
                        </div>
                    </div>
                    <a href="../index.html#wish-list" class="nav-link">Favorites</a>
                    <a href="shop-browsing.html" class="nav-link nav-link-active">Shop</a>
                    <div class="relative" data-dropdown="more">
                        <button class="nav-link flex items-center gap-1" data-dropdown-toggle="more-menu" aria-expanded="false">
                            More
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                        </button>
                        <div id="more-menu" class="hidden absolute top-full left-0 mt-3 w-64 rounded-2xl border border-neutral-100 dark:border-dark-border bg-white dark:bg-dark-card shadow-soft dark:shadow-soft-dark p-4">
                            <div class="space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
                                <a href="reviews.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Reviews</a>
                                <a href="contact.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Contact</a>
                                <a href="about.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">About us</a>
                                <a href="faq.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">FAQ</a>
                                <div class="pt-3 mt-3 border-t border-neutral-100 dark:border-dark-border text-xs uppercase text-neutral-400">Future links</div>
                                <a href="pricing.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Pricing</a>
                                <a href="testimonials.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Testimonials</a>
                                <a href="blog.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Blog</a>
                                <a href="locations.html" class="flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-300">Store Locator</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-2 sm:space-x-3">
                    <button id="theme-toggle" class="theme-toggle p-1.5 sm:p-2" aria-label="Toggle theme">
                        <span id="theme-icon">
                            <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
                        </span>
                    </button>
                    <button class="theme-toggle p-1.5 sm:p-2 relative" aria-label="Cart" id="cart-btn">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m13-9l2 9m-5-4a2 2 0 11-4 0"/></svg>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-primary-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center hidden">0</span>
                    </button>
                    <a href="login.html" class="btn btn-secondary hidden sm:inline-flex px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm">Sign In</a>
                    <a href="signup.html" class="btn btn-primary px-3 sm:px-5 py-1.5 sm:py-2 text-xs sm:text-sm">Get Started</a>
                    <button id="mobile-menu-btn" class="lg:hidden p-1.5 sm:p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-dark-card transition-colors" aria-label="Menu">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
                    </button>
                </div>
            </div>

            <div id="mobile-menu" class="hidden lg:hidden pb-6 border-t border-neutral-100 dark:border-dark-border mt-3">
                <div class="pt-4 space-y-4">
                    <a href="../index.html" class="block nav-link">Home</a>
                    <div class="bg-neutral-50 dark:bg-dark-surface rounded-2xl p-4">
                        <p class="text-xs uppercase tracking-[0.4em] text-neutral-400 mb-2">Features</p>
                        <div class="flex flex-col space-y-2">
                            <a href="haircut-recommendations.html" class="nav-link">Hair Recommendations</a>
                            <a href="digital-outfit.html" class="nav-link">Curated Fashion Sets</a>
                            <a href="model-preview.html" class="nav-link">Model Preview</a>
                        </div>
                    </div>
                    <a href="../index.html#wish-list" class="block nav-link">Favorites</a>
                    <a href="shop-browsing.html" class="block nav-link nav-link-active">Shop</a>
                    <div class="bg-neutral-50 dark:bg-dark-surface rounded-2xl p-4">
                        <p class="text-xs uppercase tracking-[0.4em] text-neutral-400 mb-2">More</p>
                        <div class="flex flex-col space-y-2">
                            <a href="reviews.html" class="nav-link">Reviews</a>
                            <a href="contact.html" class="nav-link">Contact</a>
                            <a href="about.html" class="nav-link">About us</a>
                            <a href="faq.html" class="nav-link">FAQ</a>
                            <a href="pricing.html" class="nav-link text-neutral-500 dark:text-neutral-400">Pricing (soon)</a>
                            <a href="testimonials.html" class="nav-link text-neutral-500 dark:text-neutral-400">Testimonials (soon)</a>
                            <a href="blog.html" class="nav-link text-neutral-500 dark:text-neutral-400">Blog (soon)</a>
                            <a href="locations.html" class="nav-link text-neutral-500 dark:text-neutral-400">Store Locator (soon)</a>
                        </div>
                    </div>
                    <div class="flex flex-col gap-3">
                        <a href="login.html" class="btn btn-secondary w-full text-center">Sign In</a>
                        <a href="signup.html" class="btn btn-primary w-full text-center">Get Started</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Tab Navigation -->
    <div class="sticky top-16 z-30 bg-white/95 dark:bg-dark-surface/95 backdrop-blur border-b border-neutral-100 dark:border-dark-border">
        <div class="container-custom py-3">
            <div class="flex flex-wrap gap-2 sm:gap-3 justify-center">
                <button data-section="fashion" class="tab-btn active px-4 sm:px-6 py-2 rounded-full text-sm font-medium bg-neutral-100 dark:bg-dark-card" onclick="showSection('fashion')">Fashion</button>
                <button data-section="barbers" class="tab-btn px-4 sm:px-6 py-2 rounded-full text-sm font-medium bg-neutral-100 dark:bg-dark-card" onclick="showSection('barbers')">Baber Shop</button>
                </div>
            </div>
                    </div>

    

    <!-- FASHION SECTION -->
    <section id="section-fashion" class="tab-section active">
    <!-- Filters -->
        <div class="py-8 bg-neutral-50 dark:bg-dark-surface">
        <div class="container-custom" data-aos="fade-up">
            <div class="product-card p-5 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                <div class="flex flex-wrap gap-3 text-sm">
                    <div class="filter-field">
                        <label class="text-xs uppercase tracking-[0.4em] text-neutral-400 block mb-1">Price range</label>
                        <select class="form-input" id="price-filter">
                            <option value="all">All</option>
                            <option value="0-30000">0 - 30,000 MMK</option>
                            <option value="30000-60000">30,000 - 4,000 MMK</option>
                            <option value="60000-100000">60,000 - 100,000 MMK</option>
                            <option value="100000+">100,000+ MMK</option>
                        </select>
                    </div>
                    <div class="filter-field">
                        <label class="text-xs uppercase tracking-[0.4em] text-neutral-400 block mb-1">Category</label>
                        <select class="form-input" id="category-filter">
                            <option value="all">All</option>
                                <option value="top">Tops</option>
                                <option value="bottom">Bottoms</option>
                                <option value="shoes">Shoes</option>
                            <option value="accessories">Accessories</option>
                        </select>
                    </div>
                    <div class="filter-field">
                        <label class="text-xs uppercase tracking-[0.4em] text-neutral-400 block mb-1">Shop</label>
                        <select class="form-input" id="shop-filter">
                            <option value="all">All Shops</option>
                            <!-- Shop options will be populated by JS -->
                        </select>
                    </div>
                    <div class="filter-field">
                        <label class="text-xs uppercase tracking-[0.4em] text-neutral-400 block mb-1">Sort by</label>
                        <select class="form-input" id="sort-filter">
                            <option value="newest">Newest</option>
                                <option value="popular">Most popular</option>
                            <option value="price-low">Price: low to high</option>
                            <option value="price-high">Price: high to low</option>
                        </select>
                    </div>
                </div>
                <div class="flex gap-3">
                        <input type="search" id="search-input" class="form-input" placeholder="Search products or shops...">
                        <button class="btn btn-primary px-4 btn-hover-scale" id="search-btn">Search</button>
                </div>
            </div>
        </div>
        </div>

        <!-- Product Grid -->
        <div class="py-10 sm:py-14">
        <div class="container-custom space-y-8">
                <div class="text-center" data-aos="fade-up">
                    <p class="text-xs uppercase tracking-[0.4em] text-primary-600 dark:text-primary-400 mb-2">Shop</p>
                    <h2 class="font-rufina text-3xl font-bold">Fashion Products</h2>
                    </div>
                <div id="fashion-products-container" class="space-y-12">
                    <!-- Products grouped by fashion type will be rendered here by JS -->
                </div>
                <div class="text-center">
                    <button class="btn btn-secondary btn-hover-scale" id="load-more-btn">Load more</button>
                </div>
            </div>
        </div>
    </section>

    <!-- BARBER SHOP SECTION -->
    <section id="section-barbers" class="tab-section">
        <!-- Hero -->
        <div class="py-16 relative text-white" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('../assets/images/Hero/baber.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed;">
            <div class="absolute inset-0 bg-gradient-to-br from-primary-900/90 via-primary-800/90 to-accent-800/90"></div>
            <div class="container-custom max-w-4xl mx-auto text-center space-y-4" data-aos="fade-up">
                <p class="uppercase tracking-[0.4em] text-sm text-white/70">Book your style</p>
                <h2 class="font-rufina text-4xl sm:text-5xl font-bold">Select a Baber Shop partner</h2>
                <p class="text-white/85 text-base sm:text-lg">Choose a salon, stack services, and send everything to Model Preview for haircut mode.</p>
            </div>
        </div>

        <!-- Selected style -->
        <div id="selected-hairstyle-card" class="py-10 bg-gradient-to-r from-primary-50 to-accent-50 dark:from-dark-surface dark:to-dark-card">
            <div class="container-custom max-w-4xl mx-auto" data-aos="fade-up">
                <div class="bg-white dark:bg-dark-card rounded-3xl p-6 shadow-soft dark:shadow-soft-dark flex flex-col sm:flex-row gap-6 items-center transform transition-all duration-300 hover:shadow-lg hover:-translate-y-1">
                    <div class="w-40 h-40 rounded-2xl overflow-hidden border-4 border-white dark:border-dark-surface shadow-md flex-shrink-0">
                        <img id="hairstyle-image" src="" alt="Selected hairstyle" class="w-full h-full object-cover">
                    </div>
                    <div class="flex-1 space-y-3 text-center sm:text-left">
                        <p class="text-xs uppercase tracking-[0.4em] text-primary-500 dark:text-primary-400 font-medium">Selected Hairstyle</p>
                        <h3 id="hairstyle-name" class="font-rufina text-2xl font-bold text-gray-900 dark:text-white"></h3>
                        <p id="hairstyle-desc" class="text-neutral-600 dark:text-neutral-300 text-sm"></p>
                        <div id="hairstyle-tags" class="flex flex-wrap justify-center sm:justify-start gap-2 text-xs">
                            <!-- Tags will be inserted here by JavaScript -->
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Barber shops -->
        <div class="py-12">
            <div class="container-custom space-y-10">
                <div class="text-center max-w-3xl mx-auto" data-aos="fade-up">
                    <p class="text-xs uppercase tracking-[0.4em] text-primary-600 dark:text-primary-400 mb-2">Top Baber Shops</p>
                    <h3 class="font-rufina text-3xl font-bold mb-3">Pick a partner salon & stack services</h3>
                    <p class="text-neutral-600 dark:text-neutral-400 text-sm">You can only select services from a single shop per booking to lock availability.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Template repeated 5 times -->
                    <template id="barber-card-template"></template>

                    <!-- Cards defined manually for clarity -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="elite-cuts" data-aos="fade-up">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://images.unsplash.com/photo-1562322140-8baeececf3df?auto=format&fit=crop&w=400&h=400&q=80" class="w-full h-full object-cover" alt="Yangon Classic Barber">
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Yangon Classic Barber</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.8 (95)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Bogyoke Market, Yangon</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-200">Premium</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Online booking</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Consult</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="coloring">Coloring</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Classic Haircut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision cut with scissor work</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">8,000 MMK</span>
                                        <div class="service-checkbox" data-service="classic-haircut" data-price="8000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Beard Trim & Shape</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional beard sculpt</p>
                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-trim" data-price="5000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                        <div>
                                        <p class="font-semibold text-sm">Full Color</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Complete coloring session</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="full-color" data-price="15000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                        <div>
                                        <p class="font-semibold text-sm">Deep Conditioning</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Nourishing treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">6,000 MMK</span>
                                        <div class="service-checkbox" data-service="conditioning" data-price="6000"></div>
                                    </div>
                                </div>
                                <!-- Additional services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Kids Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">For ages 12 and under</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">6,000 MMK</span>
                                        <div class="service-checkbox" data-service="kids-cut" data-price="6000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Blowout</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional blow dry</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="blowout" data-price="5000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Root Touch Up</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Regrowth coverage</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="root-touchup" data-price="12000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Buzz Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic clipper cut</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="buzz-cut" data-price="12000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Hair Spa</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Relaxing hair treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">25,000 MMK</span>
                                        <div class="service-checkbox" data-service="hair-spa" data-price="25000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Updo Styling</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Special occasion styling</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">30,000 MMK</span>
                                        <div class="service-checkbox" data-service="updo" data-price="30000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Ombré</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Gradual color effect</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">3,000 MMK</span>
                                        <div class="service-checkbox" data-service="ombre" data-price="55000"></div>
                                    </div>
                                </div>
                        </div>
                    </div>
                        <div class="flex items-center justify-end border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                </article>

                    <!-- second card -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="urban-grooming" data-aos="fade-up" data-aos-delay="100">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://images.unsplash.com/photo-1585747860715-2ba37e788b70?auto=format&fit=crop&w=400&h=400&q=80" class="w-full h-full object-cover" alt="Mandalay Heritage Salon">
                    </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Mandalay Heritage Salon</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.9 (112)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">84th Street, Mandalay</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-200">Modern</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Luxury</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Premium</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="coloring">Coloring</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Executive Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Premium skin fade with detail</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="executive-fade" data-price="12000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Designer Undercut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision undercut with design</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="designer-undercut" data-price="15000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Platinum Blonde</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Full platinum transformation</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">25,000 MMK</span>
                                        <div class="service-checkbox" data-service="platinum-blonde" data-price="25000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Luxury Styling</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Premium products + finish</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">10,000 MMK</span>
                                        <div class="service-checkbox" data-service="luxury-styling" data-price="10000"></div>
                                    </div>
                                </div>
                                <!-- Additional services (initially hidden) -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Gold Therapy</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">24K gold infused treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="gold-therapy" data-price="45000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Neon Lights</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Vibrant fashion colors</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="neon-lights" data-price="65000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Precision Beard</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Detailed beard sculpting</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">22,000 MMK</span>
                                        <div class="service-checkbox" data-service="precision-beard" data-price="22000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Texture Play</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Multi-dimensional styling</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">25,000 MMK</span>
                                        <div class="service-checkbox" data-service="texture-play" data-price="25000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Diamond Glow</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Luxury shine treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="diamond-glow" data-price="50000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Smoke & Mirrors</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Smokey color melt</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">6,000 MMK</span>
                                        <div class="service-checkbox" data-service="smoke-mirrors" data-price="70000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Modern Mullet</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Contemporary retro cut</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">32,000 MMK</span>
                                        <div class="service-checkbox" data-service="modern-mullet" data-price="32000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Red Carpet Ready</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Event styling</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-black dark:text-white text-sm">38,000 MMK</span>
                                        <div class="service-checkbox" data-service="red-carpet" data-price="38000"></div>
                                    </div>
                                </div>
                </article>

                    <!-- Additional cards (Gentleman, StyleLab, Precision) -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="gentleman" data-aos="fade-up">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://tse2.mm.bing.net/th/id/OIP.KfBK0GsooJe2ynj0SVj23gHaHa?w=600&h=600&rs=1&pid=ImgDetMain&o=7&rm=3" class="w-full h-full object-cover" alt="Shwe Gon Grooming">
                    </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Shwe Gon Grooming</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.7 (156)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Shwe Gon, Yangon</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-200">Traditional</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Hot towel</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Loyalty</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="coloring">Coloring</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Traditional Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic cut with hot towel</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">7,000 MMK</span>
                                        <div class="service-checkbox" data-service="traditional-cut" data-price="75000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Beard Grooming</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Full beard service</p>
                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-grooming" data-price="45000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                        <div>
                                        <p class="font-semibold text-sm">Gray Coverage</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional coverage</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="gray-coverage" data-price="95000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                        <div>
                                        <p class="font-semibold text-sm">Traditional Shave</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Straight razor experience</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="traditional-shave" data-price="60000"></div>
                                    </div>
                        </div>
                                <!-- Additional services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Senior Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">For gentlemen 60+</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="senior-cut" data-price="60000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Mustache Trim</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precise mustache work</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">35,000 MMK</span>
                                        <div class="service-checkbox" data-service="mustache-trim" data-price="35000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Coloring</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Full beard color</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">7,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-color" data-price="75000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Hot Towel Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Relaxing facial treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="hot-towel" data-price="45000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Buzz Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic clipper cut</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="buzz-cut" data-price="40000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Hair Tattoo</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Design shave</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="hair-tattoo" data-price="65000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Highlights</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Partial highlighting</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">120,000 MMK</span>
                                        <div class="service-checkbox" data-service="highlights" data-price="120000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Scalp Massage</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Therapeutic treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="scalp-massage" data-price="40000"></div>
                                    </div>
                                </div>
                        </div>
                    </div>
                        <div class="flex items-center justify-end border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                </article>

                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="style-lab" data-aos="fade-up" data-aos-delay="100">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://p.turbosquid.com/ts-thumb/3b/a2TZPo/Dl/preview_11/jpg/1649043033/1920x1080/fit_q87/6953820014e7b99df313ecca8554c126a9d565a3/preview_11.jpg" class="w-full h-full object-cover" alt="Nay Pyi Taw Modern Cut">
                    </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Nay Pyi Taw Modern Cut</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.8 (89)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Pyinmana, Nay Pyi Taw</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-200">Creative</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Trend setting</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Color lab</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="coloring">Coloring</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Creative Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Artistic shape work</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="creative-cut" data-price="95000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Texture Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Movement focused</p>
            </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">18,000 MMK</span>
                                        <div class="service-checkbox" data-service="texture-cut" data-price="105000"></div>
            </div>
        </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                <div>
                                        <p class="font-semibold text-sm">Creative Color</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Custom palette</p>
                </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="creative-color" data-price="140000"></div>
                </div>
            </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                <div>
                                        <p class="font-semibold text-sm">Color Correction</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Fix previous color</p>
                            </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">35,000 MMK</span>
                                        <div class="service-checkbox" data-service="color-correction" data-price="175000"></div>
                            </div>
                    </div>
                                <!-- Additional services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Undercut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Edgy undercut style</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">10,000 MMK</span>
                                        <div class="service-checkbox" data-service="undercut" data-price="85000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Updo Styling</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Elegant formal style</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="updo-styling" data-price="90000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Ombré</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Gradual color effect</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">30,000 MMK</span>
                                        <div class="service-checkbox" data-service="ombre" data-price="160000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Hair Spa</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Deep conditioning</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">7,000 MMK</span>
                                        <div class="service-checkbox" data-service="hair-spa" data-price="75000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Pixie Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Short and stylish</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="pixie-cut" data-price="95000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Bridal Styling</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Wedding day look</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">120,000 MMK</span>
                                        <div class="service-checkbox" data-service="bridal-style" data-price="120000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Fashion Colors</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Vibrant fashion shades</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">18,000 MMK</span>
                                        <div class="service-checkbox" data-service="fashion-colors" data-price="180000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Keratin Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Smoothing treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">200,000 MMK</span>
                                        <div class="service-checkbox" data-service="keratin" data-price="200000"></div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        <div class="flex items-center justify-end border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                        </article>

                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="precision" data-aos="fade-up" data-aos-delay="150">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://myanmartravel.com/images/2020/03/intro-Barber-shops-in-Yangon.jpg" class="w-full h-full object-cover" alt="Inya Lake Barber">
                    </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Inya Lake Barber</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.9 (178)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Inya Road, Yangon</p>
                            </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-200">Precision</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Fast</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Corporate</span>
                    </div>
                </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="coloring">Coloring</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Executive Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Sharp, professional</p>
        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">7,000 MMK</span>
                                        <div class="service-checkbox" data-service="executive-cut" data-price="75000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Express Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Quick service</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="express-cut" data-price="50000"></div>
                    </div>
                            </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Toning Service</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Gloss treatment</p>
                            </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="toning" data-price="65000"></div>
                    </div>
                            </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Express Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Quick conditioning</p>
                            </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">35,000 MMK</span>
                                        <div class="service-checkbox" data-service="express-treatment" data-price="35000"></div>
                    </div>
                </div>
                                <!-- Additional services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Precision Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Sharp fade with detail work</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">8,000 MMK</span>
                                        <div class="service-checkbox" data-service="precision-fade" data-price="80000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Executive Styling</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Business-appropriate finish</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">3,000 MMK</span>
                                        <div class="service-checkbox" data-service="executive-style" data-price="55000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Root Touch-Up</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional coverage</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="root-touchup" data-price="90000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Scalp Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Therapeutic care</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="scalp-treatment" data-price="60000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Trim & Shape</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision beard work</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-trim" data-price="40000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="styling">
                                    <div>
                                        <p class="font-semibold text-sm">Hairline Design</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precise hairline work</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="hairline-design" data-price="45000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="coloring">
                                    <div>
                                        <p class="font-semibold text-sm">Full Color</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Complete color service</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">120,000 MMK</span>
                                        <div class="service-checkbox" data-service="full-color" data-price="120000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface hidden" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Deep Conditioning</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Intensive treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="deep-conditioning" data-price="50000"></div>
                                    </div>
                                </div>
            </div>
        </div>
                        <div class="flex items-center justify-end gap-4 border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                    </article>

                    <!-- New Barber Shop 1 -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="royal-grooming" data-aos="fade-up" data-aos-delay="200">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://myanmartravel.com/images/2020/03/Barber-shops-in-Yangon-4.jpg" class="w-full h-full object-cover" alt="Sagaing Heritage Cut">
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Sagaing Heritage Cut</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.8 (124)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Sagaing Hill, Sagaing</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-200">Luxury</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Online booking</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">VIP Lounge</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="treatment">Treatment</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="luxury">Luxury</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Royal Haircut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Premium cut with royal treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">10,000 MMK</span>
                                        <div class="service-checkbox" data-service="royal-haircut" data-price="85000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Executive Style</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Business professional cut</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">15,000 MMK</span>
                                        <div class="service-checkbox" data-service="executive-style" data-price="95000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Luxury Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision fade with detail work</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">110,000 MMK</span>
                                        <div class="service-checkbox" data-service="luxury-fade" data-price="110000"></div>
                                    </div>
                                </div>

                                <!-- Treatment Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Gold Hair Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Luxury hair restoration</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">120,000 MMK</span>
                                        <div class="service-checkbox" data-service="gold-treatment" data-price="120000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Diamond Scalp Therapy</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Premium scalp treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">12,000 MMK</span>
                                        <div class="service-checkbox" data-service="diamond-scalp" data-price="90000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Keratin Smoothing</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional smoothing treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">25,000 MMK</span>
                                        <div class="service-checkbox" data-service="keratin-smoothing" data-price="150000"></div>
                                    </div>
                                </div>

                                <!-- Luxury Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="luxury">
                                    <div>
                                        <p class="font-semibold text-sm">Royal Shave</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Hot towel & straight razor</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="royal-shave" data-price="60000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="luxury">
                                    <div>
                                        <p class="font-semibold text-sm">VIP Grooming Package</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Full service experience</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">200,000 MMK</span>
                                        <div class="service-checkbox" data-service="vip-package" data-price="200000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="luxury">
                                    <div>
                                        <p class="font-semibold text-sm">24K Gold Facial</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Luxury facial treatment</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">20,000 MMK</span>
                                        <div class="service-checkbox" data-service="gold-facial" data-price="130000"></div>
                                    </div>
                                </div>

                                <!-- Additional Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Trim & Shape</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision beard grooming</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-trim" data-price="50000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="treatment">
                                    <div>
                                        <p class="font-semibold text-sm">Hair Spa Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Relaxing hair therapy</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">8,000 MMK</span>
                                        <div class="service-checkbox" data-service="hair-spa" data-price="80000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="luxury">
                                    <div>
                                        <p class="font-semibold text-sm">Champagne Service</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Premium beverage with service</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="champagne" data-price="40000"></div>
                                    </div>
                                </div>
                                <!-- Additional services (hidden by default) -->
                                <div class="additional-services hidden space-y-3"></div>
                            </div>
                        </div>
                        <div class="flex items-center justify-end gap-4 border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                    </article>

                    <!-- New Barber Shop 2 -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="urban-barber" data-aos="fade-up" data-aos-delay="250">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://tse4.mm.bing.net/th/id/OIP.B5Zx0B8AImZ9lEfs7GhIcwHaFj?rs=1&pid=ImgDetMain&o=7&rm=3" class="w-full h-full object-cover" alt="Taung Gyi Style Hub">
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Taung Gyi Style Hub</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.7 (87)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Myoma Taung, Taung Gyi</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-200">Trendy</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Online booking</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Walk-ins</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="beard">Beard</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="fade">Fade</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Urban Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision fade with scissors on top</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">3,000 MMK</span>
                                        <div class="service-checkbox" data-service="urban-fade" data-price="55000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">High & Tight</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Military style precision cut</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="high-tight" data-price="60000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Taper Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Gradual fade with clean lines</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="taper-fade" data-price="50000"></div>
                                    </div>
                                </div>

                                <!-- Beard Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="beard">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Sculpt</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Detailed beard shaping</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-sculpt" data-price="40000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="beard">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Coloring</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Professional beard color</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-color" data-price="45000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="beard">
                                    <div>
                                        <p class="font-semibold text-sm">Beard Treatment</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Conditioning & styling</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">35,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-treatment" data-price="35000"></div>
                                    </div>
                                </div>

                                <!-- Fade Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="fade">
                                    <div>
                                        <p class="font-semibold text-sm">Skin Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Ultra-clean skin fade</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="skin-fade" data-price="65000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="fade">
                                    <div>
                                        <p class="font-semibold text-sm">Burst Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Circular fade style</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">6,000 MMK</span>
                                        <div class="service-checkbox" data-service="burst-fade" data-price="70000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="fade">
                                    <div>
                                        <p class="font-semibold text-sm">Temple Fade</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Temple-focused fade style</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="temple-fade" data-price="60000"></div>
                                    </div>
                                </div>

                                <!-- Additional Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                                    <div>
                                        <p class="font-semibold text-sm">Kids Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">For the little ones</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="kids-cut" data-price="40000"></div>
                                    </div>
                                </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="beard">
                                    <div>
                                        <p class="font-semibold text-sm">Hot Towel Shave</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic straight razor shave</p>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="hot-towel" data-price="50000"></div>
                                    </div>
                                </div>
                                <!-- Additional services (hidden by default) -->
                                <div class="additional-services hidden space-y-3"></div>
                            </div>
                        </div>
                        <div class="flex items-center justify-end gap-4 border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                    </article>

                    <!-- New Barber Shop 3 -->
                    <article class="barber-card relative bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark overflow-hidden" data-barber="classic-cuts" data-aos="fade-up">
                        <div class="border-b border-neutral-100 dark:border-dark-border p-6 space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-2xl overflow-hidden">
                                    <img src="https://tse1.mm.bing.net/th/id/OIP.mPE9x9wHLFXiqidGpxd0lgAAAA?w=387&h=290&rs=1&pid=ImgDetMain&o=7&rm=3" class="w-full h-full object-cover" alt="Bago Traditional Barber">
                    </div>
                                <div class="flex-1">
                                    <h4 class="font-rufina text-xl font-bold">Bago Traditional Barber</h4>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">★★★★★ · 4.9 (145)</p>
                                    <p class="text-sm text-neutral-500 dark:text-neutral-400">Bago City, Bago</p>
                                </div>
                            </div>
                            <div class="flex flex-wrap gap-2 text-xs">
                                <span class="px-3 py-1 rounded-full bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-200">Classic</span>
                                <span class="px-3 py-1 rounded-full bg-accent-50 text-accent-600 dark:bg-accent-900/20 dark:text-accent-200">Appointment only</span>
                                <span class="px-3 py-1 rounded-full bg-neutral-100 text-neutral-600 dark:bg-dark-card dark:text-neutral-200">Veteran Owned</span>
                            </div>
                        </div>
                        <div class="p-6 space-y-4">
                            <div class="flex flex-wrap gap-2 text-xs font-semibold">
                                <button class="category-btn active px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="all">All</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="haircut">Haircut</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="shave">Shave</button>
                                <button class="category-btn px-3 py-1.5 rounded-full bg-neutral-100 dark:bg-dark-surface" data-category="styling">Styling</button>
                            </div>
                            <div class="space-y-3 services-container">
                                <!-- First 4 services will be visible by default -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Classic Taper</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Traditional taper cut</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">2,000 MMK</span>
                                        <div class="service-checkbox" data-service="classic-taper" data-price="50000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Pompadour</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic voluminous style</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">5,000 MMK</span>
                                        <div class="service-checkbox" data-service="pompadour" data-price="65000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Scissor Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision scissor work</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">3,000 MMK</span>
                                        <div class="service-checkbox" data-service="scissor-cut" data-price="55000"></div>
                        </div>
                    </div>

                                <!-- Shave Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="shave">
                        <div>
                                        <p class="font-semibold text-sm">Hot Towel Shave</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Traditional straight razor</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">45,000 MMK</span>
                                        <div class="service-checkbox" data-service="hot-towel-shave" data-price="45000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="shave">
                        <div>
                                        <p class="font-semibold text-sm">Royal Shave</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Deluxe straight razor experience</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">4,000 MMK</span>
                                        <div class="service-checkbox" data-service="royal-shave" data-price="60000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="shave">
                        <div>
                                        <p class="font-semibold text-sm">Beard Trim & Line Up</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Sharp, clean lines</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">35,000 MMK</span>
                                        <div class="service-checkbox" data-service="beard-lineup" data-price="35000"></div>
                        </div>
                    </div>

                                <!-- Styling Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                        <div>
                                        <p class="font-semibold text-sm">Hair & Beard Combo</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Complete grooming package</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">8,000 MMK</span>
                                        <div class="service-checkbox" data-service="combo-grooming" data-price="80000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                        <div>
                                        <p class="font-semibold text-sm">Classic Pomade Style</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Traditional hold & shine</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">30,000 MMK</span>
                                        <div class="service-checkbox" data-service="pomade-style" data-price="30000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                        <div>
                                        <p class="font-semibold text-sm">Texture & Volume</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">For fine or thinning hair</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="texture-volume" data-price="40000"></div>
                        </div>
                    </div>

                                <!-- Additional Services -->
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="haircut">
                        <div>
                                        <p class="font-semibold text-sm">Senior Citizen Cut</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Classic style for seniors</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">40,000 MMK</span>
                                        <div class="service-checkbox" data-service="senior-cut" data-price="40000"></div>
                        </div>
                    </div>
                                <div class="service-item flex items-center justify-between gap-3 p-4 rounded-2xl bg-neutral-50 dark:bg-dark-surface" data-category="styling">
                        <div>
                                        <p class="font-semibold text-sm">Mustache Grooming</p>
                                        <p class="text-xs text-neutral-500 dark:text-neutral-400">Precision mustache trim</p>
                        </div>
                                    <div class="flex items-center gap-3">
                                        <span class="font-semibold text-primary-600 dark:text-primary-300 text-sm">25,000 MMK</span>
                                        <div class="service-checkbox" data-service="mustache-groom" data-price="25000"></div>
                        </div>
                    </div>
                                <!-- Additional services (hidden by default) -->
                                <div class="additional-services hidden space-y-3"></div>
                            </div>
                        </div>
                        <div class="flex items-center justify-end gap-4 border-t border-neutral-100 dark:border-dark-border p-6">
                            <p class="font-semibold text-primary-600 dark:text-primary-300 text-sm">Total: <span class="total-price">0 MMK</span></p>
                        </div>
                    </article>
                </div>

                <!-- Cart summary -->
                <div class="bg-white dark:bg-dark-card rounded-3xl shadow-soft dark:shadow-soft-dark p-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4" data-aos="fade-up">
                    <div>
                        <p class="text-sm text-neutral-500 dark:text-neutral-400 uppercase tracking-[0.4em]">Selected services</p>
                        <p class="text-2xl font-rufina mt-1"><span id="selected-count">0</span> items · <span id="cart-total">0</span> MMK</p>
                        <p class="text-sm text-neutral-500 dark:text-neutral-400 mt-1">All selected services will carry over to the booking flow.</p>
                </div>
                    <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
                        <a href="model-preview.html?mode=haircut" class="btn btn-secondary w-full sm:w-auto text-center">Preview haircut</a>
                        <a href="Order.html" id="continue-btn" class="btn btn-primary w-full sm:w-auto text-center opacity-70 pointer-events-none">Continue to booking</a>
                </div>
            </div>
        </div>
        </div>

        <div id="toast" class="toast">Added</div>
    </section>

    <!-- Product Detail Modal -->
    <!-- Product Detail Modal (FIXED & RESPONSIVE) -->
    <div id="product-modal" 
        class="fixed inset-0 z-50 hidden bg-black/50 dark:bg-black/70 backdrop-blur-sm overflow-y-auto"
        onclick="closeProductModal(event)">

        <div class="relative bg-white dark:bg-dark-card w-full lg:w-auto rounded-2xl lg:shadow-2xl 
                    lg:max-w-[90vw] lg:my-6 lg:mx-auto flex flex-col"
            onclick="event.stopPropagation()">

            <!-- Close Button -->
            <button onclick="closeProductModal()" 
                    class="absolute top-4 right-4 z-30 w-9 h-9 sm:w-10 sm:h-10
                        bg-white/90 dark:bg-dark-surface rounded-full flex items-center justify-center
                        transition-all duration-200 hover:bg-primary-500 hover:text-white hover:scale-110
                        shadow-lg hover:shadow-[0_0_10px_rgba(0,175,255,0.6)]">
                <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>

            <!-- Main Layout -->
            <div class="flex flex-col lg:flex-row min-h-0">

                <!-- LEFT: Image Section -->
                <div class="lg:w-1/2 p-4 sm:p-6 space-y-4 flex flex-col">

                    <!-- Main Image Wrapper -->
                    <div id="modal-main-wrapper"
                        class="relative w-full rounded-xl sm:rounded-2xl bg-neutral-100 dark:bg-dark-surface
                                flex items-center justify-center p-3 sm:p-4 
                                max-h-none overflow-visible">

                        <img id="modal-main-image"
                            src=""
                            alt="Product"
                            class="w-auto h-auto max-w-full max-h-full object-contain block"
                            onerror="this.src='https://via.placeholder.com/600x600?text=Image+Not+Found'">
                    </div>

                    <!-- Thumbnails -->
                    <div class="w-full flex justify-center lg:justify-start">
                        <div id="modal-thumbnails"
                            class="flex gap-3 overflow-x-auto pb-2 flex-shrink-0 max-w-full">
                        </div>
                    </div>
                </div>

                <!-- RIGHT: Details -->
                <div class="lg:w-1/2 p-4 sm:p-6 lg:p-8 space-y-6 flex flex-col flex-1 min-h-0 overflow-y-auto">

                    <!-- Heart Button -->
                    <button id="modal-favorite-btn" 
                        class="absolute right-4 sm:right-6 z-20 w-9 h-9 sm:w-10 sm:h-10
                            bg-white/90 dark:bg-dark-surface rounded-full flex items-center justify-center
                            hover:bg-primary-500 hover:text-white transition-colors shadow-lg"
                        style="top: 3rem;">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 
                                    00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                        </svg>
                    </button>

                    <!-- Title / Price -->
                    <div>
                        <p id="modal-shop" 
                        class="text-xs uppercase tracking-wider text-primary-600 dark:text-primary-400 mb-1"></p>
                        <h2 id="modal-name" class="font-rufina text-2xl sm:text-3xl font-bold mb-2"></h2>
                        <p id="modal-fashion-type" class="text-sm text-neutral-600 dark:text-neutral-400 mb-4"></p>
                        <p id="modal-price" class="text-xl sm:text-2xl font-bold text-primary-600 dark:text-primary-400"></p>
                    </div>

                    <!-- Buttons -->
                    <div class="space-y-3">
                        <button id="modal-add-cart"
                                class="btn btn-primary btn-hover-scale w-full py-3 text-base">
                            Add to Cart
                        </button>

                        <div class="flex gap-2">
                            <button id="modal-add-wardrobe"
                                    class="btn btn-secondary btn-hover-scale flex-1 py-2 text-sm">
                                + Wardrobe
                            </button>

                            <a href="model-preview.html?mode=outfit"
                            class="btn btn-ghost border border-neutral-200 dark:border-dark-border
                                    btn-hover-scale flex-1 py-2 text-sm text-center">
                                Preview
                            </a>
                        </div>
                    </div>

                    <!-- Related Items -->
                    <div class="border-t border-neutral-200 dark:border-dark-border pt-4 flex flex-col flex-1 min-h-0">
                        <h3 class="font-rufina text-lg sm:text-xl font-bold mb-3">Related Items</h3>

                        <div id="modal-related-items"
                            class="grid grid-cols-1 md:grid-cols-2 gap-3 w-full overflow-y-auto pr-2 flex-1 min-h-0 pb-1"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-neutral-900 dark:bg-dark-bg text-white dark:text-dark-text py-10">
        <div class="container-custom flex flex-col gap-6 md:flex-row md:items-center md:justify-between text-sm">
            <div>
                <p class="font-rufina text-2xl">Pyin Mal</p>
                <p class="text-neutral-400 dark:text-neutral-500">Wardrobe & grooming intelligence.</p>
            </div>
            <div class="flex flex-wrap gap-6 text-neutral-400 dark:text-neutral-500">
                <a href="privacy.html" class="hover:text-white">Privacy</a>
                <a href="terms.html" class="hover:text-white">Terms</a>
                <a href="contact.html" class="hover:text-white">Contact</a>
            </div>
            <div class="text-neutral-500 dark:text-neutral-400 text-xs"> 2025 Pyin Mal. All rights reserved.</div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/animations.js"></script>
    <script>
        // Initialize view more button for a services container
        function initViewMoreButton(container) {
            const services = container.querySelectorAll('.service-item');
            const visibleServices = Array.from(services).filter(s => 
                window.getComputedStyle(s).display !== 'none'
            );
            
            // Remove existing view more button if any
            const existingBtn = container.nextElementSibling;
            if (existingBtn && existingBtn.classList.contains('view-more-container')) {
                existingBtn.remove();
            }
            
            if (visibleServices.length > 4) {
                // Hide all services beyond the first 4
                visibleServices.forEach((service, index) => {
                    if (index >= 4) {
                        service.classList.add('hidden');
                    } else {
                        service.classList.remove('hidden');
                    }
                });
                
                // Add a "View more" button with enhanced styling
                const viewMoreContainer = document.createElement('div');
                viewMoreContainer.className = 'view-more-container flex justify-center mt-4';
                viewMoreContainer.innerHTML = `
                    <button class="view-more-btn px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-50 dark:hover:bg-dark-surface hover:border-primary-300 dark:hover:border-primary-600 hover:text-primary-600 dark:hover:text-primary-400 text-neutral-700 dark:text-neutral-300 text-sm font-medium transition-all duration-200 hover:shadow-sm active:scale-95">
                        <span class="show-more-text">Show more</span>
                        <span class="show-less-text hidden">Show less</span>
                    </button>
                `;
                container.parentNode.insertBefore(viewMoreContainer, container.nextSibling);
                
                // Add click handler for the view more/less button
                const viewMoreBtn = viewMoreContainer.querySelector('.view-more-btn');
                let isExpanded = false;
                
                viewMoreBtn.addEventListener('click', function() {
                    const showMoreText = viewMoreBtn.querySelector('.show-more-text');
                    const showLessText = viewMoreBtn.querySelector('.show-less-text');
                    
                    if (!isExpanded) {
                        // Show all services
                        visibleServices.forEach(service => {
                            service.classList.remove('hidden');
                        });
                        
                        // Update button to show less
                        showMoreText.classList.add('hidden');
                        showLessText.classList.remove('hidden');
                        
                        isExpanded = true;
                    } else {
                        // Hide all services beyond the first 4
                        visibleServices.forEach((service, index) => {
                            if (index >= 4) {
                                service.classList.add('hidden');
                            }
                        });
                        
                        // Update button to show more
                        showMoreText.classList.remove('hidden');
                        showLessText.classList.add('hidden');
                        
                        isExpanded = false;
                    }
                });
            } else {
                // Show all services if there are 4 or fewer
                visibleServices.forEach(service => {
                    service.classList.remove('hidden');
                });
            }
        }
        
        // Initialize services - show only first 4 by default
        function initServices() {
            document.querySelectorAll('.services-container').forEach(container => {
                const services = container.querySelectorAll('.service-item');
                if (services.length > 4) {
                    // Hide all services beyond the first 4
                    services.forEach((service, index) => {
                        if (index >= 4) {
                            service.classList.add('hidden');
                        }
                    });
                    
                    // Add a "View more" button if not already present
                    if (!container.nextElementSibling || !container.nextElementSibling.classList.contains('view-more-container')) {
                        const viewMoreContainer = document.createElement('div');
                        viewMoreContainer.className = 'view-more-container flex justify-center mt-6';
                        viewMoreContainer.innerHTML = `
                            <button class="view-more-btn px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-50 dark:hover:bg-dark-surface hover:border-primary-300 dark:hover:border-primary-600 hover:text-primary-600 dark:hover:text-primary-400 text-neutral-700 dark:text-neutral-300 text-sm font-medium transition-all duration-200 hover:shadow-sm active:scale-95">
                                <span class="show-more-text">Show more</span>
                                <span class="show-less-text hidden">Show less</span>
                            </button>
                        `;
                        container.parentNode.insertBefore(viewMoreContainer, container.nextSibling);
                        
                        // Add click handler for the view more/less button
                        const viewMoreBtn = viewMoreContainer.querySelector('.view-more-btn');
                        let isExpanded = false;
                        
                        viewMoreBtn.addEventListener('click', function() {
                            const showMoreText = viewMoreBtn.querySelector('.show-more-text');
                            const showLessText = viewMoreBtn.querySelector('.show-less-text');
                            
                            if (!isExpanded) {
                                // Show all services
                                services.forEach(service => {
                                    service.classList.remove('hidden');
                                });
                                
                                // Update button to show less
                                showMoreText.classList.add('hidden');
                                showLessText.classList.remove('hidden');
                                
                                isExpanded = true;
                            } else {
                                // Hide all services beyond the first 4
                                services.forEach((service, index) => {
                                    if (index >= 4) {
                                        service.classList.add('hidden');
                                    }
                                });
                                
                                // Update button to show more
                                showMoreText.classList.remove('hidden');
                                showLessText.classList.add('hidden');
                                
                                isExpanded = false;
                            }
                        });
                    }
                }
            });
        }
        
        // Initialize AOS
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize AOS
            AOS.init({ duration: 600, once: true });
            
            // Initialize services
            initServices();

            // Check for URL parameter to set active tab
            const urlParams = new URLSearchParams(window.location.search);
            let tabParam = urlParams.get('tab');
            
            // Handle 'barber' parameter for backward compatibility
            if (tabParam === 'barber') {
                tabParam = 'barbers';
            }
            
            if (tabParam) {
                // Show the section based on URL parameter
                showSection(tabParam);
            }
            
            // Load selected hairstyle if any
            loadSelectedHairstyle();
        });

        // Tab Navigation – only responsible for switching sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.tab-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show target section
            const targetSection = document.getElementById('section-' + sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                // Refresh AOS for new section
                setTimeout(() => AOS.refresh(), 100);
            }

            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.section === sectionId);
            });

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Attach category filter handlers ONCE (not inside showSection)
        document.addEventListener('DOMContentLoaded', function () {
            // Existing AOS + services init is already here above,
            // so we just add this bit:

            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function () {
                    // Update active state inside this group
                    this.closest('.flex').querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');

                    const category = this.getAttribute('data-category');
                    const servicesContainer = this.closest('.p-6').querySelector('.services-container');
                    const services = servicesContainer.querySelectorAll('.service-item');

                    services.forEach(service => {
                        const serviceCategory = service.getAttribute('data-category');
                        if (category === 'all' || serviceCategory === category) {
                            service.style.display = 'flex';
                        } else {
                            service.style.display = 'none';
                        }
                    });

                    // Re-apply the "show more / show less" logic
                    initViewMoreButton(servicesContainer);
                });
            });
        });

        // Wardrobe Storage
        let wardrobe = JSON.parse(localStorage.getItem('wardrobe')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let favorites = JSON.parse(localStorage.getItem('pyinmal_favorites')) || [];

        // Add item to wardrobe and enrich with transparent mannequin data when available
        async function addToWardrobe(item) {
            if (window.addToWardrobeAsync) {
                // Use shared async helper so items get canTryOn / transparentImg metadata
                wardrobe = await window.addToWardrobeAsync(item);
            } else {
                // Fallback: previous simple behavior
                const exists = wardrobe.find(w => w.id === item.id);
                if (!exists) {
                    wardrobe.push(item);
                    localStorage.setItem('wardrobe', JSON.stringify(wardrobe));
                    showNotification('Added to Digital Wardrobe!', 'success');
                } else {
                    showNotification('Item already in wardrobe', 'info');
                }
            }
        }

        function addToCart(item) {
            cart.push(item);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showNotification('Added to Cart!', 'success');
        }

        function addToFavorites(item, buttonElement) {
            const exists = favorites.find(f => f.id === item.id);
            if (!exists) {
                // Ensure item has the correct structure for saved-fashion.html
                const favoriteItem = {
                    id: item.id,
                    title: item.name || item.title,
                    image: item.image,
                    category: item.category || 'outfit',
                    price: item.price,
                    shop: item.shop,
                    description: item.description || `${item.shop} - ${item.name}`,
                    tags: item.tags || []
                };
                
                favorites.push(favoriteItem);
                localStorage.setItem('pyinmal_favorites', JSON.stringify(favorites));
                showNotification('Added to Favorites!', 'success');
                
                // Turn heart red
                if (buttonElement) {
                    buttonElement.classList.add('text-red-500');
                    buttonElement.classList.remove('hover:bg-primary-500', 'hover:text-white');
                    buttonElement.classList.add('bg-red-50', 'dark:bg-red-900/20');
                }
            } else {
                // Remove from favorites
                favorites = favorites.filter(f => f.id !== item.id);
                localStorage.setItem('pyinmal_favorites', JSON.stringify(favorites));
                showNotification('Removed from Favorites', 'info');
                
                // Turn heart back to normal
                if (buttonElement) {
                    buttonElement.classList.remove('text-red-500');
                    buttonElement.classList.add('hover:bg-primary-500', 'hover:text-white');
                    buttonElement.classList.remove('bg-red-50', 'dark:bg-red-900/20');
                }
            }
        }

        function updateCartCount() {
            const countEl = document.getElementById('cart-count');
            if (countEl) {
                countEl.textContent = cart.length;
                countEl.classList.toggle('hidden', cart.length === 0);
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 right-4 p-4 rounded-xl shadow-lg z-50 transition-all transform translate-x-full ${
                type === 'success' ? 'bg-green-500' : 
                type === 'warning' ? 'bg-yellow-500' : 
                'bg-primary-500'
            } text-white`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => notification.classList.remove('translate-x-full'), 10);
            
            // Remove after delay
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => notification.remove(), 300);
            }, 2500);
        }

        // Helper to extract prefix before the first digit (e.g. anastasia0 -> anastasia)
        function getPrefixKey(imageName) {
            const base = imageName.replace(/\.(jpg|jpeg|png|webp)$/i, '');
            const letterMatch = base.match(/^[A-Za-z]+/);
            if (letterMatch && letterMatch[0]) {
                return letterMatch[0].toLowerCase();
            }
            const digitIndex = base.search(/\d/);
            if (digitIndex > 0) {
                return base.slice(0, digitIndex).trim().toLowerCase();
            }
            return base.trim().toLowerCase();
        }

        // Helper to generate display name from prefix
        function getDisplayNameFromPrefix(prefixKey) {
            return prefixKey
                .split(/[\s._-]+/)
                .filter(Boolean)
                .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                .join(' ');
        }

        // Group images by shared prefix
        function groupImagesByBaseName(imageList, basePath) {
            const grouped = {};
            imageList.forEach(imageName => {
                const prefixKey = getPrefixKey(imageName);
                if (!grouped[prefixKey]) {
                    grouped[prefixKey] = {
                        baseName: getDisplayNameFromPrefix(prefixKey),
                        images: []
                    };
                }
                grouped[prefixKey].images.push(`${basePath}/${imageName}`);
            });
            return grouped;
        }

        // Helper function to get MMK price based on fashion type
        function getMMKPrice(fashionType, shop) {
            const type = fashionType.toLowerCase();
            let basePrice, variance;
            
            if (type.includes('tee') || type.includes('tshirt') || type.includes('shirt') || (type.includes('top') && !type.includes('dress'))) {
                // T-shirts, Tops: 15,000 - 35,000 MMK
                basePrice = 25000;
                variance = 10000;
            } else if (type.includes('hoodie')) {
                // Hoodies: 40,000 - 8,000 MMK
                basePrice = 60000;
                variance = 20000;
            } else if (type.includes('pant')) {
                // Pants: 25,000 - 4,000 MMK
                basePrice = 42500;
                variance = 17500;
            } else if (type.includes('burmese dress')) {
                // Burmese dresses: 30,000 - 100,000 MMK
                basePrice = 65000;
                variance = 35000;
            } else if (type.includes('set')) {
                // Sets: 50,000 - 25,000 MMK
                basePrice = 100000;
                variance = 50000;
            } else if (type.includes('skirt')) {
                // Skirts: 20,000 - 2,000 MMK
                basePrice = 35000;
                variance = 15000;
            } else if (type.includes('longyi')) {
                // Longyi: 15,000 - 40,000 MMK
                basePrice = 27500;
                variance = 12500;
            } else {
                // Default: 20,000 - 2,000 MMK
                basePrice = 35000;
                variance = 15000;
            }
            
            // Add some randomness within the range
            const price = basePrice + Math.floor(Math.random() * variance * 2) - variance;
            return Math.max(10000, price); // Minimum 10,000 MMK
        }

        // Helper function to create product with grouped images
        function createProductGroup(gender, category, shop, baseName, images, index, id) {
            const stableId = id || slugify(baseName);

            const fashionType = category;
            const name = baseName || `${fashionType} ${index + 1}`;
            const price = getMMKPrice(fashionType, shop);

            const lower = fashionType.toLowerCase();
            const filterCategory =
                lower.includes("top") || lower.includes("tee") || lower.includes("shirt") || lower.includes("hoodie")
                    ? "top"
                    : lower.includes("pant") || lower.includes("skirt") || lower.includes("longyi")
                    ? "bottom"
                    : lower.includes("set")
                    ? "set"
                    : "accessories";

            return {
                id: stableId,
                gender,
                category: filterCategory,
                shop,
                baseName,
                images,
                image: images[0],
                productIndex: index,
                name,
                price,
                fashionType
            };
        }

        function slugify(str) {
            return str
                .toLowerCase()
                .replace(/\.[^/.]+$/, "")          // remove extension
                .replace(/[^a-z0-9]+/g, "-")       // replace spaces/symbols
                .replace(/-+/g, "-")               // collapse ---
                .replace(/^-|-$/g, "");            // trim dash
        }

        function buildFashionProducts() {
            const products = [];
            let productIndex = 0;

            function pushGroups(gender, fashionType, shop, basePath, imageList) {
                const grouped = groupImagesByBaseName(imageList, basePath);
                Object.keys(grouped).forEach(prefixKey => {
                    const group = grouped[prefixKey];
                    const id = slugify(prefixKey);

                    products.push(
                        createProductGroup(
                            gender,
                            fashionType,
                            shop,
                            group.baseName,   // display name
                            group.images,     // all grouped images
                            productIndex++,
                            id
                        )
                    );
                });
            }

            // ------------------------------
            // FEMALE — Dress.Top
            // ------------------------------
            pushGroups("female", "Dress Top", "nami", "../assets/images/Female/dress. top/nami", 
                Array.from({length: 9}, (_, i) => `nami${i}.jpg`)
            );
            pushGroups("female", "Dress Top", "Oro", "../assets/images/Female/dress. top/Oro", 
                Array.from({length: 9}, (_, i) => `oro ${i+1}.jpg`)
            );
            pushGroups("female", "Dress Top", "T shirt collection", "../assets/images/Female/dress. top/T shirt collection",
                ['crest tee.jpg','crest tee1.jpg','lizx tee1.jpg','lizx tee2.jpg','VAL3 03 tee1.jpg','VAL3 03 tee2.jpg','VAL3 spiral1.jpg','VAL3 spiral2.jpg','VAL3 spiral3.jpg']
            );

            // ------------------------------
            // FEMALE — Burmese
            // ------------------------------
            const femaleBurmese = [
                { shop:"anastasia", base:"../assets/images/Female/dress.burmese/anastasia", count:21, prefix:"anastasia" },
                { shop:"Luna", base:"../assets/images/Female/dress.burmese/Luna", count:12, prefix:"LUNA" },
                { shop:"luxe", base:"../assets/images/Female/dress.burmese/luxe", count:14, prefix:"LUXE" },
                { shop:"Veronica", base:"../assets/images/Female/dress.burmese/Veronica", count:9, prefix:"veronica" }
            ];

            femaleBurmese.forEach(({shop, base, count, prefix}) => {
                const list = Array.from({length: count}, (_, i) => `${prefix}${i}.jpg`);
                pushGroups("female", "Burmese Dress", shop, base, list);
            });

            // ------------------------------
            // FEMALE — Dress Set
            // ------------------------------
            pushGroups("female", "Dress Set", "Luna", "../assets/images/Female/dress.set/Luna",
                Array.from({length:12}, (_, i)=>`luna set${i+1}.jpg`)
            );
            pushGroups("female", "Dress Set", "oro set", "../assets/images/Female/dress.set/oro set",
                Array.from({length:13}, (_, i)=>`oro set${i+1}.jpg`)
            );

            // ------------------------------
            // FEMALE — Dress Skirt
            // ------------------------------
            pushGroups("female", "Dress Skirt", "Online Shop", "../assets/images/Female/dress.skirt",
                Array.from({length:4}, (_, i)=>`oro skirt${i+1}.jpg`)
            );

            // ------------------------------
            // MALE — Burmese Dress
            // ------------------------------
            const burmese = [];
            for (let i = 0; i < 14; i++) {
                burmese.push(i < 6 ? `longyi${i}.jpg` : `shirt & longyi ${i-6}.jpg`);
            }
            pushGroups("male", "Burmese Dress", "Online Shop", "../assets/images/Male/Burmese dress for men", burmese);

            // ------------------------------
            // MALE — Malory Pants
            // ------------------------------
            pushGroups("male","Pants","Malory","../assets/images/Male/Malory/pants",
                ['cargo pant.jpg','long pant 1.jpg','long pant 3.jpg','long pant 6.jpg','long pant 7.jpg','long pant0.jpg.jpg','long pant2.jpg.jpg','long pant4.jpg','long pant5.jpg','short pant0.jpg','short pant1.jpg','short pant2.jpg','short pant3.jpg','styple pant0.jpg','styple pant1.jpg']
            );

            // ------------------------------
            // MALE — Malory Tees
            // ------------------------------
            pushGroups("male","T Shirt","Malory","../assets/images/Male/Malory/T shirt",
                ['Bold prints tee0.jpg','Bold prints tee1.jpg','Dead Inside T-Shirt0.jpg','Dead Inside T-Shirt1.jpg','I LOVE HATERS TEE0.jpg','I LOVE HATERS TEE1.jpg','Let It Shine T-Shirt0.jpg','Let It Shine T-Shirt1.jpg','MENTAL TEE0.jpg','MENTAL TEE1.jpg','Myanmar Traditional Kayan People Tee0.jpg','Myanmar Traditional Kayan People Tee1.jpg','Myanmar Traditional Kayan People Tee2.jpg','Myanmar Traditional Kayan People Tee3.jpg','Purpose T-shirt0.jpg','Purpose T-shirt1.jpg','Traditional Burma\'s Puppet Tee0.jpg','Traditional Burma\'s Puppet Tee1.jpg']
            );

            // ------------------------------
            // MALE — NRF Hoodies
            // ------------------------------
            pushGroups("male","Hoodie","Nrf","../assets/images/Male/Nrf/Hoodie",
                ['ABCD 2XL ZIP UP HOODIE0.jpg','ABCD 2XL ZIP UP HOODIE1.jpg','Aj V1 Hd 0.jpg','AJOHN V2 HOODIE.jpg','Bias Hd0.jpg','Lttv Hd 0.jpg','NRF Deathwish hoodie0.jpg','NRF Deathwish hoodie1.jpg','Nrf x Rowska shirt punk flower0.jpg','Nrf x Rowska shirt punk flower1.jpg','NRFC ZIP UP HOODIE GREY0.jpg','NRFC ZIP UP HOODIE GREY1.jpg','NRF™ + GAWLI 2.0hoodie0.jpg','NRF™ + GAWLI 2.0hoodie1.jpg','PRO-TECT DETACHABLE JACKET 0.jpg','PRO-TECT DETACHABLE JACKET 1.jpg','V1 INTRODUCTION Hoodie .jpg','V2 LOGO Hoodie 0.jpg','V2 LOGO Hoodie 1.jpg','V3 jacket olive green 0.jpg']
            );

            // ------------------------------
            // MALE — NRF Tee
            // ------------------------------
            pushGroups("male","Tee","Nrf","../assets/images/Male/Nrf/Tee",
                ['ABCD TEE.jpg','ABCD TEE0.jpg','ACID TSHIRT 0.jpg','ACID TSHIRT 1.jpg','AJOHN V4 0.jpg','AJOHN V4.jpg','AJOHN V41.jpg','LAPSES TSHIRT OATMEAL0.jpg','LAPSES TSHIRT OATMEAL1.jpg','LTTV 2.0 DOUBLELAYER 0.jpg','LTTV 2.0 DOUBLELAYER 1.jpg','nrf ajohn v4 tee.jpg','Nrf x rowska shirt 4 0.jpg','Nrf x rowska shirt 4 1.jpg','NRF+RG Premium tee0.jpg','NRF+RG Premium tee1.jpg','NRFC Jersey0.jpg','NRFC Jersey1.jpg','NRF™ + GAWLI 2.0 tee0.jpg','NRF™ + GAWLI 2.0 tee1.jpg','NRF™ + GAWLI 2.0 tee3.jpg','RUBBER TAG TSHIRT 0.jpg','RUBBER TAG TSHIRT 1.jpg','V4 logo tee0.jpg']
            );

            // ------------------------------
            // MALE — Sets
            // ------------------------------
            pushGroups("male","Set","outfit set from sian store","../assets/images/Male/Set/outfit set from sian store",
                Array.from({length:23}, (_,i)=>`set${i}.jpg`)
            );

            // ------------------------------
            // MALE — VAL3 Hoodie
            // ------------------------------
            pushGroups("male","Hoodie","VAL3","../assets/images/Male/VAL3/Hoodie",
                ['VAL3 crop hoodie 0.jpg','VAL3 crop hoodie 1.jpg','VAL3 crop hoodie 2.jpg','VAL3 hoodie 0.jpg','VAL3 hoodie 1.jpg','VAL3 hoodie 2.jpg']
            );

            // ------------------------------
            // MALE — VAL3 Pants
            // ------------------------------
            pushGroups("male","Pants","VAL3","../assets/images/Male/VAL3/Pants",
                ['VAL3 Sweat pants🍃0.jpg','VAL3 Sweat pants🍃1.jpg']
            );

            // ------------------------------
            // MALE — VAL3 Tee
            // ------------------------------
            pushGroups("male","T Shirt","VAL3","../assets/images/Male/VAL3/T shirt",
                ['VAL3 03 tshirt 0.jpg','VAL3 03 tshirt 1.jpg','VAL3 03 tshirt 2.jpg','VAL3 ETHIC Tee0.jpg','VAL3 ETHIC Tee1.jpg','VAL3 Polo shirt.jpg','VAL3🌀Spiral tee0.jpg','VAL3🌀Spiral tee1.jpg','VAL3爱 Tee 0.jpg','VAL3爱 Tee 1.png','VAL3爱 Tee 2.jpg']
            );

            return products;
        }

        // Fashion Products Data
        const fashionProducts = buildFashionProducts();
        
        // Initialize current filtered products
        let currentFilteredProducts = fashionProducts;

        // Get unique shops for filter
        function getUniqueShops() {
            const shops = new Set();
            fashionProducts.forEach(product => {
                shops.add(product.shop);
            });
            return Array.from(shops).sort();
        }

        // Get unique fashion types
        function getUniqueFashionTypes() {
            const types = new Set();
            fashionProducts.forEach(product => {
                types.add(product.fashionType);
            });
            return Array.from(types).sort();
        }

        // Populate shop filter dropdown
        function populateShopFilter() {
            const shopFilter = document.getElementById('shop-filter');
            if (!shopFilter) return;
            
            const shops = getUniqueShops();
            shops.forEach(shop => {
                const option = document.createElement('option');
                option.value = shop.toLowerCase().replace(/\s+/g, '-');
                option.textContent = shop;
                shopFilter.appendChild(option);
            });
        }

        // Filter and render products
        let displayedCount = 0;
        const itemsPerPage = 32;

        // Build encoded preview payload for model-preview.html
        function buildPreviewItemParam(product) {
            const payload = {
                id: product.id,
                name: product.name,
                image: product.image,
                tryOnImage: product.tryOnImage || null,
                category: product.category,
                gender: product.gender,
                shop: product.shop,
                fashionType: product.fashionType
            };
            try {
                return encodeURIComponent(JSON.stringify(payload));
            } catch (e) {
                return '';
            }
        }

        async function renderFashionProducts(filteredProducts = null) {
            const container = document.getElementById('fashion-products-container');
            if (!container) return;

            const productsToShow = filteredProducts || fashionProducts;
            const productsToDisplay = productsToShow.slice(0, displayedCount + itemsPerPage);

            // Precompute try-on availability per product using transparent PNGs.
            // Use the same multi-key strategy as addToWardrobe in tryon-utils.js
            // so detection is consistent across the app.
            if (window.findTransparentForItem) {
                await Promise.all(productsToDisplay.map(async (product) => {
                    const candidateKeys = [];
                    if (product.id) candidateKeys.push(product.id);
                    if (product.image) {
                        const file = product.image.split('/').pop() || '';
                        const withoutExt = file.replace(/\.(png|jpe?g|webp)$/i, '');
                        if (withoutExt) candidateKeys.push(withoutExt);
                    }
                    if (product.name) {
                        candidateKeys.push(product.name);
                    }

                    let transparentPath = null;
                    try {
                        for (const key of candidateKeys) {
                            transparentPath = await window.findTransparentForItem(key);
                            if (transparentPath) break;
                        }
                    } catch (err) {
                        transparentPath = null;
                    }

                    if (transparentPath) {
                        product.canTryOn = true;
                        product.tryOnImage = transparentPath;
                    } else {
                        product.canTryOn = false;
                        product.tryOnImage = null;
                    }
                }));
            }
            
            // Group products by fashion type
            const groupedByType = {};
            productsToDisplay.forEach(product => {
                if (!groupedByType[product.fashionType]) {
                    groupedByType[product.fashionType] = [];
                }
                groupedByType[product.fashionType].push(product);
            });

            // Render grouped sections
            container.innerHTML = Object.keys(groupedByType).sort().map(fashionType => {
                const typeProducts = groupedByType[fashionType];
                return `
                    <div class="space-y-6" data-aos="fade-up">
                        <div class="flex items-center gap-4">
                            <h3 class="font-rufina text-2xl font-bold">${fashionType}</h3>
                            <span class="text-sm text-neutral-500 dark:text-neutral-400">${typeProducts.length} items</span>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                            ${typeProducts.map((product, index) => `
                                <article class="shop-card-animated product-card p-0 overflow-hidden cursor-pointer" data-aos="fade-up" data-aos-delay="${index * 50}" data-shop="${product.shop.toLowerCase().replace(/\s+/g, '-')}" onclick="openProductModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                                    <div class="shop-card-media aspect-[4/3] relative">
                                        ${product.canTryOn ? '<span class="absolute top-2 right-2 z-20 bg-green-500 text-white text-[10px] px-2 py-0.5 rounded-full shadow">Try-On Ready</span>' : ''}
                                        <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/400x300?text=Image+Not+Found'">
                                    </div>
                                    <div class="p-4 space-y-3">
                                        <div class="flex items-start justify-between gap-3">
                                            <div class="flex-1">
                                                <p class="text-xs uppercase tracking-wider text-neutral-400 mb-1">${product.shop}</p>
                                                <h3 class="font-medium text-sm">${product.name}</h3>
                                                <p class="text-primary-600 dark:text-primary-400 font-bold">${product.price.toLocaleString()} MMK</p>
                                            </div>
                                            <button class="flex-shrink-0 w-8 h-8 bg-white/90 dark:bg-dark-card/90 rounded-full flex items-center justify-center hover:bg-primary-500 hover:text-white transition-colors z-10 ${favorites.some(f => f.id === product.id) ? 'text-red-500 bg-red-50 dark:bg-red-900/20' : ''}" onclick="event.stopPropagation(); addToFavorites(${JSON.stringify(product).replace(/"/g, '&quot;')}, this)">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
                                            </button>
                                        </div>
                                        <div class="flex flex-col gap-2">
                                            <button onclick="event.stopPropagation(); addToCart(${JSON.stringify(product).replace(/"/g, '&quot;')})" class="btn btn-primary btn-hover-scale w-full text-xs py-2">Add to Cart</button>
                                            <div class="flex gap-2">
                                                <button onclick="event.stopPropagation(); addToWardrobe(${JSON.stringify(product).replace(/"/g, '&quot;')})" class="btn btn-secondary btn-hover-scale flex-1 text-xs py-2">+ Wardrobe</button>
                                                <a href="model-preview.html?item=${buildPreviewItemParam(product)}" onclick="event.stopPropagation();" class="btn btn-ghost border border-neutral-200 dark:border-dark-border btn-hover-scale flex-1 text-xs py-2 text-center">Preview</a>
                                            </div>
                                        </div>
                                    </div>
                                </article>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');

            displayedCount = productsToDisplay.length;
            const loadMoreBtn = document.getElementById('load-more-btn');
            if (loadMoreBtn) {
                loadMoreBtn.style.display = displayedCount >= productsToShow.length ? 'none' : 'inline-flex';
            }

            // Refresh AOS
            setTimeout(() => AOS.refresh(), 100);
        }

        // Filter products
        function filterProducts(resetCount = true) {
            const shopFilter = document.getElementById('shop-filter')?.value || 'all';
            const categoryFilter = document.getElementById('category-filter')?.value || 'all';
            const priceFilter = document.getElementById('price-filter')?.value || 'all';
            const sortFilter = document.getElementById('sort-filter')?.value || 'newest';
            const searchQuery = document.getElementById('search-input')?.value?.toLowerCase().trim() || '';

            let filtered = [...fashionProducts];

            // Filter by shop
            if (shopFilter !== 'all') {
                filtered = filtered.filter(product => 
                    product.shop.toLowerCase().replace(/\s+/g, '-') === shopFilter
                );
            }

            // Filter by category
            if (categoryFilter !== 'all') {
                filtered = filtered.filter(product => product.category === categoryFilter);
            }

            // Filter by price range
            if (priceFilter !== 'all') {
                filtered = filtered.filter(product => {
                    switch(priceFilter) {
                        case '0-30000':
                            return product.price >= 0 && product.price <= 30000;
                        case '30000-60000':
                            return product.price > 30000 && product.price <= 60000;
                        case '60000-100000':
                            return product.price > 60000 && product.price <= 100000;
                        case '100000+':
                            return product.price > 100000;
                        default:
                            return true;
                    }
                });
            }

            // Search by product name or shop name
            if (searchQuery) {
                filtered = filtered.filter(product => 
                    product.name.toLowerCase().includes(searchQuery) ||
                    product.shop.toLowerCase().includes(searchQuery)
                );
            }

            // Sort
            switch(sortFilter) {
                case 'price-low':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'popular':
                    // For now, just randomize. Can be improved with actual popularity data
                    filtered.sort(() => Math.random() - 0.5);
                    break;
                default: // newest
                    // Keep original order (newest first based on array order)
                    break;
            }

            currentFilteredProducts = filtered;
            if (resetCount) displayedCount = 0;
            renderFashionProducts(filtered);
        }

        // Load more products
        function loadMoreProducts() {
            displayedCount += itemsPerPage;
            renderFashionProducts(currentFilteredProducts || fashionProducts);
        }

        // Product Modal Functions
        let currentModalProduct = null;
        let carouselInterval = null;
        let currentImageIndex = 0;

        function openProductModal(product) {
            currentModalProduct = product;
            currentImageIndex = 0;
            const modal = document.getElementById('product-modal');
            if (!modal) return;

            // Populate modal content
            document.getElementById('modal-name').textContent = product.name;
            document.getElementById('modal-shop').textContent = product.shop;
            document.getElementById('modal-fashion-type').textContent = product.fashionType;
            document.getElementById('modal-price').textContent = `${product.price.toLocaleString()} MMK`;

            // Set up images
            const images = product.images || [product.image];
            setupImageCarousel(images);

            // Set up action buttons
            const addCartBtn = document.getElementById('modal-add-cart');
            const addWardrobeBtn = document.getElementById('modal-add-wardrobe');
            const favoriteBtn = document.getElementById('modal-favorite-btn');
            
            if (addCartBtn) {
                addCartBtn.onclick = () => {
                    addToCart(product);
                    closeProductModal();
                };
            }
            if (addWardrobeBtn) {
                addWardrobeBtn.onclick = () => {
                    addToWardrobe(product);
                };
            }
            if (favoriteBtn) {
                favoriteBtn.onclick = () => {
                    addToFavorites(product);
                };
            }

            // Get related items: same category, different product id, limit to 2
            const relatedItems = fashionProducts
                .filter(p => p.id !== product.id && p.category === product.category)
                .slice(0, 2);

            setupRelatedItems(relatedItems);

            // Show modal without forced flex centering; let CSS + overflow handle layout
            modal.classList.remove('hidden');
            modal.classList.remove('flex', 'items-center', 'justify-center');
            // Do not modify document.body.style.overflow here so viewport-driven height can work correctly
            
            // Start auto-play carousel after a brief delay
            setTimeout(() => {
                startCarousel(images);
            }, 100);
        }

        function closeProductModal(event) {
            // Prevent event from bubbling if called from button
            if (event) {
                event.stopPropagation();
            }
            
            const modal = document.getElementById('product-modal');
            if (!modal) return;
            
            // If event exists and it's not from the overlay, don't close
            if (event && event.target !== modal && event.target !== event.currentTarget) {
                return;
            }
            
            // Close the modal
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'items-center', 'justify-center');
            document.body.style.overflow = '';
            stopCarousel();
            currentModalProduct = null;
        }

        function setupImageCarousel(images) {
            const mainImage = document.getElementById('modal-main-image');
            const thumbnailsContainer = document.getElementById('modal-thumbnails');
            
            if (!mainImage || !thumbnailsContainer) return;

            // Set main image
            mainImage.src = images[0];
            mainImage.alt = currentModalProduct?.name || 'Product';

            // Create thumbnails with responsive sizing (slightly smaller so they stay inside frame)
            const isMobile = window.innerWidth < 1024;
            const thumbSize = isMobile ? '70px' : '80px';
            thumbnailsContainer.innerHTML = images.map((img, index) => `
                <button onclick="selectImage(${index})" class="flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all ${
                    index === 0 ? 'border-primary-500' : 'border-transparent hover:border-primary-300'
                }" style="width: ${thumbSize}; height: ${thumbSize}; min-width: ${thumbSize}; min-height: ${thumbSize};">
                    <img src="${img}" alt="Thumbnail ${index + 1}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/100x100?text=Image+Not+Found'">
                </button>
            `).join('');
        }

        function selectImage(index) {
            if (!currentModalProduct) return;
            const images = currentModalProduct.images || [currentModalProduct.image];
            if (index < 0 || index >= images.length) return;

            currentImageIndex = index;
            const mainImage = document.getElementById('modal-main-image');
            if (mainImage) {
                mainImage.src = images[index];
            }

            // Update thumbnail borders
            const thumbnails = document.querySelectorAll('#modal-thumbnails button');
            thumbnails.forEach((btn, i) => {
                if (i === index) {
                    btn.classList.add('border-primary-500');
                    btn.classList.remove('border-transparent');
                } else {
                    btn.classList.remove('border-primary-500');
                    btn.classList.add('border-transparent');
                }
            });

            // Restart carousel from this index
            stopCarousel();
            startCarousel(images);
        }

        function startCarousel(images) {
            if (images.length <= 1) return;
            
            stopCarousel();
            carouselInterval = setInterval(() => {
                currentImageIndex = (currentImageIndex + 1) % images.length;
                selectImage(currentImageIndex);
            }, 5000); // 5 seconds
        }

        function stopCarousel() {
            if (carouselInterval) {
                clearInterval(carouselInterval);
                carouselInterval = null;
            }
        }

        function setupRelatedItems(relatedItems) {
            const container = document.getElementById('modal-related-items');
            if (!container) return;

            if (relatedItems.length === 0) {
                container.innerHTML = '<p class="col-span-2 text-sm text-neutral-500 dark:text-neutral-400">No related items found.</p>';
                return;
            }

            container.innerHTML = relatedItems.map(product => `
                <article class="product-card p-0 overflow-hidden cursor-pointer rounded-xl" onclick="openProductModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                    <div class="aspect-square">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Found'">
                    </div>
                    <div class="p-2 sm:p-3">
                        <p class="text-xs text-neutral-500 dark:text-neutral-400 truncate">${product.shop}</p>
                        <h4 class="font-medium text-xs sm:text-sm truncate">${product.name}</h4>
                        <p class="text-primary-600 dark:text-primary-400 font-bold text-xs sm:text-sm">${product.price.toLocaleString()} MMK</p>
                    </div>
                </article>
            `).join('');
        }

        // Handle selected hairstyle from URL
        function loadSelectedHairstyle() {
            const urlParams = new URLSearchParams(window.location.search);
            const hairstyleData = urlParams.get('hairstyle');
            const card = document.getElementById('selected-hairstyle-card');
            
            if (!hairstyleData) {
                card.style.display = 'none';
                return;
            }

            try {
                const { name, image, description, tags } = JSON.parse(decodeURIComponent(hairstyleData));
                
                document.getElementById('hairstyle-name').textContent = name;
                document.getElementById('hairstyle-desc').textContent = description;
                
                const imageEl = document.getElementById('hairstyle-image');
                imageEl.src = image || 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=600&q=80';
                imageEl.alt = name;
                
                const tagsContainer = document.getElementById('hairstyle-tags');
                tagsContainer.innerHTML = ''; // Clear any existing tags
                
                if (tags && Array.isArray(tags)) {
                    tags.forEach(tag => {
                        const tagEl = document.createElement('span');
                        tagEl.className = 'px-3 py-1 rounded-full bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-200';
                        tagEl.textContent = tag;
                        tagsContainer.appendChild(tagEl);
                    });
                }
                
                // Show the card
                card.style.display = 'block';
            } catch (e) {
                console.error('Error parsing hairstyle data:', e);
                card.style.display = 'none';
            }
        }

        // Make functions globally available
        window.openProductModal = openProductModal;
        window.closeProductModal = closeProductModal;
        window.selectImage = selectImage;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Ensure modal is hidden on page load
            const modal = document.getElementById('product-modal');
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex', 'items-center', 'justify-center');
            }
            
            populateShopFilter();
            renderFashionProducts();
            updateCartCount();
            initBarberShopModule();
            
            // Add filter event listeners
            const shopFilter = document.getElementById('shop-filter');
            const categoryFilter = document.getElementById('category-filter');
            const priceFilter = document.getElementById('price-filter');
            const sortFilter = document.getElementById('sort-filter');
            const searchBtn = document.getElementById('search-btn');
            const searchInput = document.getElementById('search-input');
            
            if (shopFilter) shopFilter.addEventListener('change', filterProducts);
            if (categoryFilter) categoryFilter.addEventListener('change', filterProducts);
            if (priceFilter) priceFilter.addEventListener('change', filterProducts);
            if (sortFilter) sortFilter.addEventListener('change', filterProducts);
            if (searchBtn) searchBtn.addEventListener('click', filterProducts);
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') filterProducts();
                });
            }
            
            // Load more button
            const loadMoreBtn = document.getElementById('load-more-btn');
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', loadMoreProducts);
            }
            
            // Close modal on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    const modal = document.getElementById('product-modal');
                    if (modal && !modal.classList.contains('hidden')) {
                        closeProductModal();
                    }
                }
            });
        });

        // Barber tab logic
        function initBarberShopModule() {
            const section = document.getElementById('section-barbers');
            if (!section) return;

            const serviceCheckboxes = section.querySelectorAll('.service-checkbox');
            const categoryButtons = section.querySelectorAll('.category-btn');
            const selectedCount = document.getElementById('selected-count');
            const cartTotal = document.getElementById('cart-total');
            const continueBtn = document.getElementById('continue-btn');
            const toast = document.getElementById('toast');
            let selectedServices = [];
            let selectedBarber = null;

            const formatCurrency = (amount) => amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');

            const showToast = (message) => {
                if (!toast) return;
                toast.textContent = message;
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2500);
            };

            const updateCart = () => {
                const total = selectedServices.reduce((sum, svc) => sum + svc.price, 0);
                const count = selectedServices.length;
                selectedCount.textContent = count;
                cartTotal.textContent = formatCurrency(total);

                // update per barber totals
                section.querySelectorAll('.barber-card').forEach(card => {
                    const barberId = card.dataset.barber;
                    const barberServices = selectedServices.filter(s => s.barber === barberId);
                    const barberTotal = barberServices.reduce((sum, svc) => sum + svc.price, 0);
                    const totalEl = card.querySelector('.total-price');
                    if (totalEl) totalEl.textContent = `${formatCurrency(barberTotal)} MMK`;
                    card.classList.toggle('shop-selected', barberServices.length > 0);
                });

                if (continueBtn) {
                    if (count > 0) {
                        continueBtn.classList.remove('opacity-70', 'pointer-events-none');
                        continueBtn.classList.add('btn-hover-scale');
                        
                        // Add click handler to save services and redirect
                        continueBtn.onclick = (e) => {
                            e.preventDefault();
                            // Format services for Order.html
                            const formattedServices = selectedServices.map(service => ({
                                id: service.service,
                                name: service.service.split('-').map(word => 
                                    word.charAt(0).toUpperCase() + word.slice(1)
                                ).join(' '),
                                price: service.price,
                                barber: service.barber
                            }));
                            
                            // Save to localStorage
                            localStorage.setItem('selectedServices', JSON.stringify(formattedServices));
                            
                            // Get the barber shop info
                            const barberCard = document.querySelector(`[data-barber="${selectedBarber}"]`);
                            const barberName = barberCard ? barberCard.querySelector('.font-rufina')?.textContent : 'Barber';
                            // Get the shop photo URL (look for an image in the card)
                            const barberPhoto = barberCard ? barberCard.querySelector('img')?.src : '';
                            
                            // Save barber info with photo
                            localStorage.setItem('selectedBarber', JSON.stringify({
                                id: selectedBarber,
                                name: barberName,
                                photo: barberPhoto
                            }));
                            
                            console.log('Saved barber info:', {
                                id: selectedBarber,
                                name: barberName,
                                photo: barberPhoto
                            });
                            
                            // Navigate to Order.html
                            window.location.href = 'Order.html';
                        };
                    } else {
                        continueBtn.classList.add('opacity-70', 'pointer-events-none');
                        continueBtn.classList.remove('btn-hover-scale');
                        continueBtn.onclick = null;
                    }
                }

                localStorage.setItem('selectedBarberServices', JSON.stringify(selectedServices));
                localStorage.setItem('selectedBarberShop', selectedBarber);
            };

            const updateServiceAvailability = () => {
                serviceCheckboxes.forEach(box => {
                    const card = box.closest('.barber-card');
                    if (!card) return;
                    const isLocked = selectedBarber && card.dataset.barber !== selectedBarber;
                    box.closest('.service-item').classList.toggle('disabled', Boolean(isLocked));
                    box.classList.toggle('disabled', Boolean(isLocked));
                });
            };

            serviceCheckboxes.forEach(box => {
                box.addEventListener('click', () => {
                    const card = box.closest('.barber-card');
                    const barberId = card?.dataset.barber;
                    const price = parseInt(box.dataset.price, 10);
                    const service = box.dataset.service;

                    if (!selectedBarber) {
                        selectedBarber = barberId;
                        showToast(`Selected ${card.querySelector('.font-rufina').textContent}`);
                    }

                    if (selectedBarber && barberId !== selectedBarber) {
                        showToast('Select services from one Baber shop at a time.');
                        box.classList.add('animate-pulse');
                        setTimeout(() => box.classList.remove('animate-pulse'), 400);
                        return;
                    }

                    if (box.classList.contains('checked')) {
                        box.classList.remove('checked');
                        selectedServices = selectedServices.filter(s => s.service !== service);
                        if (selectedServices.length === 0) selectedBarber = null;
                    } else {
                        box.classList.add('checked');
                        selectedServices.push({ service, price, barber: barberId });
                    }

                    updateServiceAvailability();
                    updateCart();
                });
            });

            categoryButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const category = btn.dataset.category;
                    const card = btn.closest('.barber-card');
                    card.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    card.querySelectorAll('.service-item').forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.style.display = 'flex';
                            item.classList.add('animate-fade-slide-up');
                        } else {
                            item.style.display = 'none';
                            item.classList.remove('animate-fade-slide-up');
                }
            });
        });
            });

            updateCart();
            updateServiceAvailability();
        }

        
    </script>
    <script src="../js/tryon-utils.js"></script>
</body>
</html>
